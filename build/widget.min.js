function htmlEncode(e){return e?String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function warnFullFun(){var e=document.createElement("div");e.id="opera-warn",e.className="opera-warn",e.style.display="none",e.innerHTML="<div class='warn-box'><p class='warn-text'></p><p class='warn-btncon'><a href='javascript:;' class='warn-cancel'>否</a><a href='javascript:;' class='warn-confirm'>是</a></p></div>",document.body.appendChild(e);var t=document.getElementById("opera-warn"),a=t.getElementsByClassName("warn-text")[0],i=t.getElementsByClassName("warn-box")[0],n=t.getElementsByClassName("warn-confirm")[0],s=t.getElementsByClassName("warn-cancel")[0],r=function(e,r,o,l){var d=function(){t.style.display="none",n.removeEventListener("click",c,!1),s.removeEventListener("click",u,!1)};d(),i.className=("blue"==r||!r)&&"warn-box"||"yellow"==r&&"warn-box warn-box-yellow"||"green"==r&&"warn-box warn-box-green"||"red"==r&&"warn-box warn-box-red",a.innerHTML=e,s.style.display="inline-block","function"!=typeof l&&(s.style.display="none"),t.style.display="block";var c=function(e){o&&o(),d()},u=function(e){l&&l(),d()};n.addEventListener("click",c,!1),s.addEventListener("click",u,!1)};return r}function warnTopFun(){var e=document.createElement("div");e.id="opera-warn-top",e.className="opera-warn-top",e.style.display="none",e.innerHTML="<p class='warn-top'><span class='warn-text'></span><a href='javascript:;' class='warn-confirm'>确认</a><a href='javascript:;' class='warn-cancel'>取消</a></p>",document.body.appendChild(e);var t=document.getElementById("opera-warn-top"),a=t.getElementsByClassName("warn-top")[0],i=t.getElementsByClassName("warn-text")[0],n=t.getElementsByClassName("warn-confirm")[0],s=t.getElementsByClassName("warn-cancel")[0],r=function(e,r,o,l){var d;n.removeEventListener("click",u,!1),s.removeEventListener("click",h,!1),a.className=("blue"==r||!r)&&"warn-top"||"yellow"==r&&"warn-top warn-top-yellow"||"green"==r&&"warn-top warn-top-green"||"red"==r&&"warn-top warn-top-red",i.innerHTML=e,s.style.display="inline-block","function"!=typeof l&&(s.style.display="none"),t.style.display="block";var c=function(){t.style.display="none",n.removeEventListener("click",u,!1),s.removeEventListener("click",h,!1)},u=function(e){o&&o(),clearTimeout(d),c()},h=function(e){l&&l(),c()};l||(d=setTimeout(function(){t.style.display="none"},2e3)),n.addEventListener("click",u,!1),s.addEventListener("click",h,!1)};return r}var DateFormatter;!function(){"use strict";var e,t,a,i,n,s;n=864e5,s=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,a,i){var n=i||"0",s=e.toString();return s.length<a?t(n+s,a):s},a=function(e){var t,i;for(e=e||{},t=1;t<arguments.length;t++)if(i=arguments[t])for(var n in i)i.hasOwnProperty(n)&&("object"==typeof i[n]?a(e[n],i[n]):e[n]=i[n]);return e},i={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,a={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&a[t]?a[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},DateFormatter=function(e){var t=this,n=a(i,e);t.dateSettings=n.dateSettings,t.separators=n.separators,t.validParts=n.validParts,t.intParts=n.intParts,t.tzParts=n.tzParts,t.tzClip=n.tzClip},DateFormatter.prototype={constructor:DateFormatter,parseDate:function(t,a){var i,n,s,r,o,l,d,c,u,h,m=this,f=!1,p=!1,g=m.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);if("U"===a)return s=parseInt(t),s?new Date(1e3*s):t;if("string"!=typeof t)return"";if(i=a.match(m.validParts),!i||0===i.length)throw new Error("Invalid date format definition.");for(n=t.replace(m.separators,"\0").split("\0"),s=0;s<n.length;s++)switch(r=n[s],o=parseInt(r),i[s]){case"y":case"Y":u=r.length,2===u?v.year=parseInt((o<70?"20":"19")+r):4===u&&(v.year=o),f=!0;break;case"m":case"n":case"M":case"F":isNaN(r)?(l=g.monthsShort.indexOf(r),l>-1&&(v.month=l+1),l=g.months.indexOf(r),l>-1&&(v.month=l+1)):o>=1&&o<=12&&(v.month=o),f=!0;break;case"d":case"j":o>=1&&o<=31&&(v.day=o),f=!0;break;case"g":case"h":d=i.indexOf("a")>-1?i.indexOf("a"):i.indexOf("A")>-1?i.indexOf("A"):-1,h=n[d],d>-1?(c=e(h,g.meridiem[0])?0:e(h,g.meridiem[1])?12:-1,o>=1&&o<=12&&c>-1?v.hour=o+c:o>=0&&o<=23&&(v.hour=o)):o>=0&&o<=23&&(v.hour=o),p=!0;break;case"G":case"H":o>=0&&o<=23&&(v.hour=o),p=!0;break;case"i":o>=0&&o<=59&&(v.min=o),p=!0;break;case"s":o>=0&&o<=59&&(v.sec=o),p=!0}if(f===!0&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(p!==!0)return!1;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date}},guessDate:function(e,t){if("string"!=typeof e)return e;var a,i,n,s,r=this,o=e.replace(r.separators,"\0").split("\0"),l=/^[djmn]/g,d=t.match(r.validParts),c=new Date,u=0;if(!l.test(d[0]))return e;for(i=0;i<o.length;i++){switch(u=2,n=o[i],s=parseInt(n.substr(0,2)),i){case 0:"m"===d[0]||"n"===d[0]?c.setMonth(s-1):c.setDate(s);break;case 1:"m"===d[0]||"n"===d[0]?c.setDate(s):c.setMonth(s-1);break;case 2:a=c.getFullYear(),n.length<4?(c.setFullYear(parseInt(a.toString().substr(0,4-n.length)+n)),u=n.length):(c.setFullYear=parseInt(n.substr(0,4)),u=4);break;case 3:c.setHours(s);break;case 4:c.setMinutes(s);break;case 5:c.setSeconds(s)}n.substr(u).length>0&&o.splice(i+1,0,n.substr(u))}return c},parseFormat:function(e,a){var i,r=this,o=r.dateSettings,l=/\\?(.?)/gi,d=function(e,t){return i[e]?i[e]():t};return i={d:function(){return t(i.j(),2)},D:function(){return o.daysShort[i.w()]},j:function(){return a.getDate()},l:function(){return o.days[i.w()]},N:function(){return i.w()||7},w:function(){return a.getDay()},z:function(){var e=new Date(i.Y(),i.n()-1,i.j()),t=new Date(i.Y(),0,1);return Math.round((e-t)/n)},W:function(){var e=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),a=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-a)/n/7),2)},F:function(){return o.months[a.getMonth()]},m:function(){return t(i.n(),2)},M:function(){return o.monthsShort[a.getMonth()]},n:function(){return a.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var e=i.Y();return e%4===0&&e%100!==0||e%400===0?1:0},o:function(){var e=i.n(),t=i.W(),a=i.Y();return a+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return a.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return i.A().toLowerCase()},A:function(){var e=i.G()<12?0:1;return o.meridiem[e]},B:function(){var e=a.getUTCHours()*s,i=60*a.getUTCMinutes(),n=a.getUTCSeconds();return t(Math.floor((e+i+n+s)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return a.getHours()},h:function(){return t(i.g(),2)},H:function(){return t(i.G(),2)},i:function(){return t(a.getMinutes(),2)},s:function(){return t(a.getSeconds(),2)},u:function(){return t(1e3*a.getMilliseconds(),6)},e:function(){var e=/\((.*)\)/.exec(String(a))[1];return e||"Coordinated Universal Time"},T:function(){var e=(String(a).match(r.tzParts)||[""]).pop().replace(r.tzClip,"");return e||"UTC"},I:function(){var e=new Date(i.Y(),0),t=Date.UTC(i.Y(),0),a=new Date(i.Y(),6),n=Date.UTC(i.Y(),6);return e-t!==a-n?1:0},O:function(){var e=a.getTimezoneOffset(),i=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(i/60)+i%60,4)},P:function(){var e=i.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-a.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,d)},r:function(){return"D, d M Y H:i:s O".replace(l,d)},U:function(){return a.getTime()/1e3||0}},d(e,e)},formatDate:function(e,t){var a,i,n,s,r,o=this,l="";if("string"==typeof e&&(e=o.parseDate(e,t),e===!1))return!1;if(e instanceof Date){for(n=t.length,a=0;a<n;a++)r=t.charAt(a),"S"!==r&&(s=o.parseFormat(r,e),a!==n-1&&o.intParts.test(r)&&"S"===t.charAt(a+1)&&(i=parseInt(s),s+=o.dateSettings.ordinal(i)),l+=s);return l}return""}}}(),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){"use strict";function t(e,t,a){this.date=e,this.desc=t,this.style=a}var a=!1,i={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},n=null,s="en",r="en",o={meridiem:["AM","PM"]},l=function(){var t=i.i18n[r],a={days:t.dayOfWeek,daysShort:t.dayOfWeekShort,months:t.months,monthsShort:e.map(t.months,function(e){return e.substring(0,3)})};n=new DateFormatter({dateSettings:e.extend({},o,a)})};e.datetimepicker={setLocale:function(e){var t=i.i18n[e]?e:s;r!=t&&(r=t,l())},setDateFormatter:function(e){n=e},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},l(),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var a=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),a.test(t)&&(t=t.replace(a,function(e,t,a){return a.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var a,i;for(a=t||0,i=this.length;a<i;a+=1)if(this[a]===e)return a;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},Date.prototype.dateFormat=function(){return this},e.fn.xdsoftScroller=function(t){return this.each(function(){var a,i,n,s,r,o=e(this),l=function(e){var t,a={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a.x=t.clientX,a.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(a.x=e.clientX,a.y=e.clientY),a},d=100,c=!1,u=0,h=0,m=0,f=!1,p=0,g=function(){};return"hide"===t?void o.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(a=o.children().eq(0),i=o[0].clientHeight,n=a[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),r=e('<div class="xdsoft_scroller"></div>'),s.append(r),o.addClass("xdsoft_scroller_box").append(s),g=function(e){var t=l(e).y-u+p;t<0&&(t=0),t+r[0].offsetHeight>m&&(t=m-r[0].offsetHeight),o.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])},r.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(a){i||o.trigger("resize_scroll.xdsoft_scroller",[t]),u=l(a).y,p=parseInt(r.css("margin-top"),10),m=s[0].offsetHeight,"mousedown"===a.type||"touchstart"===a.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("touchend mouseup.xdsoft_scroller",function t(){e([document.body,window]).off("touchend mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",g)):(f=!0,a.stopPropagation(),a.preventDefault())}).on("touchmove",function(e){f&&(e.preventDefault(),g(e))}).on("touchend touchcancel",function(){f=!1,p=0}),o.on("scroll_element.xdsoft_scroller",function(e,t){i||o.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,r.css("margin-top",d*t),setTimeout(function(){a.css("marginTop",-parseInt((a[0].offsetHeight-i)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,l){var c,u;i=o[0].clientHeight,n=a[0].offsetHeight,c=i/n,u=c*s[0].offsetHeight,c>1?r.hide():(r.show(),r.css("height",parseInt(u>10?u:10,10)),d=s[0].offsetHeight-r[0].offsetHeight,l!==!0&&o.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(a.css("marginTop"),10))/(n-i)]))}),o.on("mousewheel",function(e){var t=Math.abs(parseInt(a.css("marginTop"),10));return t-=20*e.deltaY,t<0&&(t=0),o.trigger("scroll_element.xdsoft_scroller",[t/(n-i)]),e.stopPropagation(),!1}),o.on("touchstart",function(e){c=l(e),h=Math.abs(parseInt(a.css("marginTop"),10))}),o.on("touchmove",function(e){if(c){e.preventDefault();var t=l(e);o.trigger("scroll_element.xdsoft_scroller",[(h-(t.y-c.y))/(n-i)])}}),o.on("touchend touchcancel",function(){c=!1,h=0})),void o.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(s,o){var l,d,c=this,u=48,h=57,m=96,f=105,p=17,g=46,v=13,y=27,b=8,k=37,x=38,w=39,S=40,N=9,T=116,C=65,D=67,O=86,F=90,M=89,I=!1,j=e.isPlainObject(s)||!s?e.extend(!0,{},i,s):e.extend(!0,{},i),P=0,E=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(P),P=setTimeout(function(){e.data("xdsoft_datetimepicker")||l(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))})};return l=function(i){function o(){var e,t=!1;return j.startDate?t=L.strToDate(j.startDate):(t=j.value||(i&&i.val&&i.val()?i.val():""),t?t=L.strToDateTime(t):j.defaultDate&&(t=L.strToDateTime(j.defaultDate),j.defaultTime&&(e=L.strtotime(j.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes())))),t&&L.isValidDate(t)?_.data("changed",!0):t="",t||0}function l(t){var a=function(e,t){var a=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(a).test(t)},n=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}},s=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var a=e.createTextRange();return a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};t.mask&&i.off("keydown.xdsoft"),t.mask===!0&&("undefined"!=typeof moment?t.mask=t.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):t.mask=t.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(t.mask)&&(a(t.mask,i.val())||(i.val(t.mask.replace(/[0-9]/g,"_")),s(i[0],0)),i.on("keydown.xdsoft",function(r){var o,l,d=this.value,c=r.which;if(c>=u&&c<=h||c>=m&&c<=f||c===b||c===g){for(o=n(this),l=c!==b&&c!==g?String.fromCharCode(m<=c&&c<=f?c-u:c):"_",c!==b&&c!==g||!o||(o-=1,l="_");/[^0-9_]/.test(t.mask.substr(o,1))&&o<t.mask.length&&o>0;)o+=c===b||c===g?-1:1;if(d=d.substr(0,o)+l+d.substr(o+1),""===e.trim(d))d=t.mask.replace(/[0-9]/g,"_");else if(o===t.mask.length)return r.preventDefault(),!1;for(o+=c===b||c===g?0:1;/[^0-9_]/.test(t.mask.substr(o,1))&&o<t.mask.length&&o>0;)o+=c===b||c===g?-1:1;a(t.mask,d)?(this.value=d,s(this,o)):""===e.trim(d)?this.value=t.mask.replace(/[0-9]/g,"_"):i.trigger("error_input.xdsoft")}else if([C,D,O,F,M].indexOf(c)!==-1&&I||[y,x,S,k,w,T,p,N,v].indexOf(c)!==-1)return!0;return r.preventDefault(),!1}))}var d,c,P,E,A,L,$,_=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),q=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),R=e('<div class="xdsoft_datepicker active"></div>'),W=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),z=e('<div class="xdsoft_calendar"></div>'),H=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),B=H.find(".xdsoft_time_box").eq(0),U=e('<div class="xdsoft_time_variant"></div>'),Y=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),J=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),V=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),G=!1,K=0;
j.id&&_.attr("id",j.id),j.style&&_.attr("style",j.style),j.weeks&&_.addClass("xdsoft_showweeks"),j.rtl&&_.addClass("xdsoft_rtl"),_.addClass("xdsoft_"+j.theme),_.addClass(j.className),W.find(".xdsoft_month span").after(J),W.find(".xdsoft_year span").after(V),W.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var a,i,n=e(this).find(".xdsoft_select").eq(0),s=0,r=0,o=n.is(":visible");for(W.find(".xdsoft_select").hide(),L.currentTime&&(s=L.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[o?"hide":"show"](),a=n.find("div.xdsoft_option"),i=0;i<a.length&&a.eq(i).data("value")!==s;i+=1)r+=a[0].offsetHeight;return n.xdsoftScroller(r/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),W.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){void 0!==L.currentTime&&null!==L.currentTime||(L.currentTime=L.now());var t=L.currentTime.getFullYear();L&&L.currentTime&&L.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),_.trigger("xchange.xdsoft"),j.onChangeMonth&&e.isFunction(j.onChangeMonth)&&j.onChangeMonth.call(_,L.currentTime,_.data("input")),t!==L.currentTime.getFullYear()&&e.isFunction(j.onChangeYear)&&j.onChangeYear.call(_,L.currentTime,_.data("input"))}),_.getValue=function(){return L.getCurrentTime()},_.setOptions=function(a){var s={};j=e.extend(!0,{},j,a),a.allowTimes&&e.isArray(a.allowTimes)&&a.allowTimes.length&&(j.allowTimes=e.extend(!0,[],a.allowTimes)),a.weekends&&e.isArray(a.weekends)&&a.weekends.length&&(j.weekends=e.extend(!0,[],a.weekends)),a.allowDates&&e.isArray(a.allowDates)&&a.allowDates.length&&(j.allowDates=e.extend(!0,[],a.allowDates)),a.allowDateRe&&"[object String]"===Object.prototype.toString.call(a.allowDateRe)&&(j.allowDateRe=new RegExp(a.allowDateRe)),a.highlightedDates&&e.isArray(a.highlightedDates)&&a.highlightedDates.length&&(e.each(a.highlightedDates,function(a,i){var r,o=e.map(i.split(","),e.trim),l=new t(n.parseDate(o[0],j.formatDate),o[1],o[2]),d=n.formatDate(l.date,j.formatDate);void 0!==s[d]?(r=s[d].desc,r&&r.length&&l.desc&&l.desc.length&&(s[d].desc=r+"\n"+l.desc)):s[d]=l}),j.highlightedDates=e.extend(!0,[],s)),a.highlightedPeriods&&e.isArray(a.highlightedPeriods)&&a.highlightedPeriods.length&&(s=e.extend(!0,[],j.highlightedDates),e.each(a.highlightedPeriods,function(a,i){var r,o,l,d,c,u,h;if(e.isArray(i))r=i[0],o=i[1],l=i[2],h=i[3];else{var m=e.map(i.split(","),e.trim);r=n.parseDate(m[0],j.formatDate),o=n.parseDate(m[1],j.formatDate),l=m[2],h=m[3]}for(;r<=o;)d=new t(r,l,h),c=n.formatDate(r,j.formatDate),r.setDate(r.getDate()+1),void 0!==s[c]?(u=s[c].desc,u&&u.length&&d.desc&&d.desc.length&&(s[c].desc=u+"\n"+d.desc)):s[c]=d}),j.highlightedDates=e.extend(!0,[],s)),a.disabledDates&&e.isArray(a.disabledDates)&&a.disabledDates.length&&(j.disabledDates=e.extend(!0,[],a.disabledDates)),a.disabledWeekDays&&e.isArray(a.disabledWeekDays)&&a.disabledWeekDays.length&&(j.disabledWeekDays=e.extend(!0,[],a.disabledWeekDays)),!j.open&&!j.opened||j.inline||i.trigger("open.xdsoft"),j.inline&&(G=!0,_.addClass("xdsoft_inline"),i.after(_).hide()),j.inverseButton&&(j.next="xdsoft_prev",j.prev="xdsoft_next"),j.datepicker?R.addClass("active"):R.removeClass("active"),j.timepicker?H.addClass("active"):H.removeClass("active"),j.value&&(L.setCurrentTime(j.value),i&&i.val&&i.val(L.str)),isNaN(j.dayOfWeekStart)?j.dayOfWeekStart=0:j.dayOfWeekStart=parseInt(j.dayOfWeekStart,10)%7,j.timepickerScrollbar||B.xdsoftScroller("hide"),j.minDate&&/^[\+\-](.*)$/.test(j.minDate)&&(j.minDate=n.formatDate(L.strToDateTime(j.minDate),j.formatDate)),j.maxDate&&/^[\+\-](.*)$/.test(j.maxDate)&&(j.maxDate=n.formatDate(L.strToDateTime(j.maxDate),j.formatDate)),Y.toggle(j.showApplyButton),W.find(".xdsoft_today_button").css("visibility",j.todayButton?"visible":"hidden"),W.find("."+j.prev).css("visibility",j.prevButton?"visible":"hidden"),W.find("."+j.next).css("visibility",j.nextButton?"visible":"hidden"),l(j),j.validateOnBlur&&i.off("blur.xdsoft").on("blur.xdsoft",function(){if(j.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof j.mask&&e.trim(e(this).val())===j.mask.replace(/[0-9]/g,"_")))e(this).val(null),_.data("xdsoft_datetime").empty();else{var t=n.parseDate(e(this).val(),j.format);if(t)e(this).val(n.formatDate(t,j.format));else{var a=+[e(this).val()[0],e(this).val()[1]].join(""),i=+[e(this).val()[2],e(this).val()[3]].join("");!j.datepicker&&j.timepicker&&a>=0&&a<24&&i>=0&&i<60?e(this).val([a,i].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(n.formatDate(L.now(),j.format))}_.data("xdsoft_datetime").setCurrentTime(e(this).val())}_.trigger("changedatetime.xdsoft"),_.trigger("close.xdsoft")}),j.dayOfWeekStartPrev=0===j.dayOfWeekStart?6:j.dayOfWeekStart-1,_.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},_.data("options",j).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),V.hide(),J.hide(),!1}),B.append(U),B.xdsoftScroller(),_.on("afterOpen.xdsoft",function(){B.xdsoftScroller()}),_.append(R).append(H),j.withoutCopyright!==!0&&_.append(q),R.append(W).append(z).append(Y),e(j.parentID).append(_),d=function(){var t=this;t.now=function(e){var a,i,n=new Date;return!e&&j.defaultDate&&(a=t.strToDateTime(j.defaultDate),n.setFullYear(a.getFullYear()),n.setMonth(a.getMonth()),n.setDate(a.getDate())),j.yearOffset&&n.setFullYear(n.getFullYear()+j.yearOffset),!e&&j.defaultTime&&(i=t.strtotime(j.defaultTime),n.setHours(i.getHours()),n.setMinutes(i.getMinutes())),n},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,a){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||a||!j.allowBlank?t.currentTime=t.now():t.currentTime=null,_.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var a,i=t.currentTime.getMonth()+1;return 12===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),i=0),a=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),j.onChangeMonth&&e.isFunction(j.onChangeMonth)&&j.onChangeMonth.call(_,L.currentTime,_.data("input")),a!==t.currentTime.getFullYear()&&e.isFunction(j.onChangeYear)&&j.onChangeYear.call(_,L.currentTime,_.data("input")),_.trigger("xchange.xdsoft"),i},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var a=t.currentTime.getMonth()-1;return a===-1&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),a=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),a+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(a),j.onChangeMonth&&e.isFunction(j.onChangeMonth)&&j.onChangeMonth.call(_,L.currentTime,_.data("input")),_.trigger("xchange.xdsoft"),a},t.getWeekOfYear=function(t){if(j.onGetWeekOfYear&&e.isFunction(j.onGetWeekOfYear)){var a=j.onGetWeekOfYear.call(_,t);if("undefined"!=typeof a)return a}var i=new Date(t.getFullYear(),0,1);return 4!=i.getDay()&&i.setMonth(0,1+(4-i.getDay()+7)%7),Math.ceil(((t-i)/864e5+i.getDay()+1)/7)},t.strToDateTime=function(e){var a,i,s=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(s=/^(\+|\-)(.*)$/.exec(e),s&&(s[2]=n.parseDate(s[2],j.formatDate)),s&&s[2]?(a=s[2].getTime()-6e4*s[2].getTimezoneOffset(),i=new Date(t.now(!0).getTime()+parseInt(s[1]+"1",10)*a)):i=e?n.parseDate(e,j.format):t.now(),t.isValidDate(i)||(i=t.now()),i)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var a=e?n.parseDate(e,j.formatDate):t.now(!0);return t.isValidDate(a)||(a=t.now(!0)),a},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var a=e?n.parseDate(e,j.formatTime):t.now(!0);return t.isValidDate(a)||(a=t.now(!0)),a},t.str=function(){return n.formatDate(t.currentTime,j.format)},t.currentTime=this.now()},L=new d,Y.on("touchend click",function(e){e.preventDefault(),_.data("changed",!0),L.setCurrentTime(o()),i.val(L.str()),_.trigger("close.xdsoft")}),W.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){_.data("changed",!0),L.setCurrentTime(0,!0),_.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,a=L.getCurrentTime();a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=L.strToDate(j.minDate),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a<e||(t=L.strToDate(j.maxDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a>t||(i.val(L.str()),i.trigger("change"),_.trigger("close.xdsoft")))}),W.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),a=0,i=!1;!function e(n){t.hasClass(j.next)?L.nextMonth():t.hasClass(j.prev)&&L.prevMonth(),j.monthChangeSpinner&&(i||(a=setTimeout(e,n||100)))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function t(){clearTimeout(a),i=!0,e([document.body,window]).off("touchend mouseup.xdsoft",t)})}),H.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),a=0,i=!1,n=110;!function e(s){var r=B[0].clientHeight,o=U[0].offsetHeight,l=Math.abs(parseInt(U.css("marginTop"),10));t.hasClass(j.next)&&o-r-j.timeHeightInTimePicker>=l?U.css("marginTop","-"+(l+j.timeHeightInTimePicker)+"px"):t.hasClass(j.prev)&&l-j.timeHeightInTimePicker>=0&&U.css("marginTop","-"+(l-j.timeHeightInTimePicker)+"px"),B.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(U[0].style.marginTop,10)/(o-r))]),n=n>10?10:n-10,i||(a=setTimeout(e,s||n))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function t(){clearTimeout(a),i=!0,e([document.body,window]).off("touchend mouseup.xdsoft",t)})}),c=0,_.on("xchange.xdsoft",function(t){clearTimeout(c),c=setTimeout(function(){if(void 0===L.currentTime||null===L.currentTime){if(j.allowBlank)return;L.currentTime=L.now()}for(var t,a,o,l,d,c,u,h,m,f,p="",g=new Date(L.currentTime.getFullYear(),L.currentTime.getMonth(),1,12,0,0),v=0,y=L.now(),b=!1,k=!1,x=[],w=!0,S="",N="";g.getDay()!==j.dayOfWeekStart;)g.setDate(g.getDate()-1);for(p+="<table><thead><tr>",j.weeks&&(p+="<th></th>"),t=0;t<7;t+=1)p+="<th>"+j.i18n[r].dayOfWeekShort[(t+j.dayOfWeekStart)%7]+"</th>";for(p+="</tr></thead>",p+="<tbody>",j.maxDate!==!1&&(b=L.strToDate(j.maxDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999)),j.minDate!==!1&&(k=L.strToDate(j.minDate),k=new Date(k.getFullYear(),k.getMonth(),k.getDate()));v<L.currentTime.countDaysInMonth()||g.getDay()!==j.dayOfWeekStart||L.currentTime.getMonth()===g.getMonth();)x=[],v+=1,o=g.getDay(),l=g.getDate(),d=g.getFullYear(),c=g.getMonth(),u=L.getWeekOfYear(g),f="",x.push("xdsoft_date"),h=j.beforeShowDay&&e.isFunction(j.beforeShowDay.call)?j.beforeShowDay.call(_,g):null,j.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(j.allowDateRe)?j.allowDateRe.test(n.formatDate(g,j.formatDate))||x.push("xdsoft_disabled"):j.allowDates&&j.allowDates.length>0?j.allowDates.indexOf(n.formatDate(g,j.formatDate))===-1&&x.push("xdsoft_disabled"):b!==!1&&g>b||k!==!1&&g<k||h&&h[0]===!1?x.push("xdsoft_disabled"):j.disabledDates.indexOf(n.formatDate(g,j.formatDate))!==-1?x.push("xdsoft_disabled"):j.disabledWeekDays.indexOf(o)!==-1?x.push("xdsoft_disabled"):i.is("[readonly]")&&x.push("xdsoft_disabled"),h&&""!==h[1]&&x.push(h[1]),L.currentTime.getMonth()!==c&&x.push("xdsoft_other_month"),(j.defaultSelect||_.data("changed"))&&n.formatDate(L.currentTime,j.formatDate)===n.formatDate(g,j.formatDate)&&x.push("xdsoft_current"),n.formatDate(y,j.formatDate)===n.formatDate(g,j.formatDate)&&x.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&j.weekends.indexOf(n.formatDate(g,j.formatDate))===-1||x.push("xdsoft_weekend"),void 0!==j.highlightedDates[n.formatDate(g,j.formatDate)]&&(a=j.highlightedDates[n.formatDate(g,j.formatDate)],x.push(void 0===a.style?"xdsoft_highlighted_default":a.style),f=void 0===a.desc?"":a.desc),j.beforeShowDay&&e.isFunction(j.beforeShowDay)&&x.push(j.beforeShowDay(g)),w&&(p+="<tr>",w=!1,j.weeks&&(p+="<th>"+u+"</th>")),p+='<td data-date="'+l+'" data-month="'+c+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+x.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",g.getDay()===j.dayOfWeekStartPrev&&(p+="</tr>",w=!0),g.setDate(l+1);if(p+="</tbody></table>",z.html(p),W.find(".xdsoft_label span").eq(0).text(j.i18n[r].months[L.currentTime.getMonth()]),W.find(".xdsoft_label span").eq(1).text(L.currentTime.getFullYear()),S="",N="",c="",m=function(t,a){var s,r,o=L.now(),l=j.allowTimes&&e.isArray(j.allowTimes)&&j.allowTimes.length;o.setHours(t),t=parseInt(o.getHours(),10),o.setMinutes(a),a=parseInt(o.getMinutes(),10),s=new Date(L.currentTime),s.setHours(t),s.setMinutes(a),x=[],j.minDateTime!==!1&&j.minDateTime>s||j.maxTime!==!1&&L.strtotime(j.maxTime).getTime()<o.getTime()||j.minTime!==!1&&L.strtotime(j.minTime).getTime()>o.getTime()?x.push("xdsoft_disabled"):j.minDateTime!==!1&&j.minDateTime>s||j.disabledMinTime!==!1&&o.getTime()>L.strtotime(j.disabledMinTime).getTime()&&j.disabledMaxTime!==!1&&o.getTime()<L.strtotime(j.disabledMaxTime).getTime()?x.push("xdsoft_disabled"):i.is("[readonly]")&&x.push("xdsoft_disabled"),r=new Date(L.currentTime),r.setHours(parseInt(L.currentTime.getHours(),10)),l||r.setMinutes(Math[j.roundTime](L.currentTime.getMinutes()/j.step)*j.step),(j.initTime||j.defaultSelect||_.data("changed"))&&r.getHours()===parseInt(t,10)&&(!l&&j.step>59||r.getMinutes()===parseInt(a,10))&&(j.defaultSelect||_.data("changed")?x.push("xdsoft_current"):j.initTime&&x.push("xdsoft_init_time")),parseInt(y.getHours(),10)===parseInt(t,10)&&parseInt(y.getMinutes(),10)===parseInt(a,10)&&x.push("xdsoft_today"),S+='<div class="xdsoft_time '+x.join(" ")+'" data-hour="'+t+'" data-minute="'+a+'">'+n.formatDate(o,j.formatTime)+"</div>"},j.allowTimes&&e.isArray(j.allowTimes)&&j.allowTimes.length)for(v=0;v<j.allowTimes.length;v+=1)N=L.strtotime(j.allowTimes[v]).getHours(),c=L.strtotime(j.allowTimes[v]).getMinutes(),m(N,c);else for(v=0,t=0;v<(j.hours12?12:24);v+=1)for(t=0;t<60;t+=j.step)N=(v<10?"0":"")+v,c=(t<10?"0":"")+t,m(N,c);for(U.html(S),s="",v=0,v=parseInt(j.yearStart,10)+j.yearOffset;v<=parseInt(j.yearEnd,10)+j.yearOffset;v+=1)s+='<div class="xdsoft_option '+(L.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+v+"</div>";for(V.children().eq(0).html(s),v=parseInt(j.monthStart,10),s="";v<=parseInt(j.monthEnd,10);v+=1)s+='<div class="xdsoft_option '+(L.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+j.i18n[r].months[v]+"</div>";J.children().eq(0).html(s),e(_).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(j.timepicker){var e,t,a,i;U.find(".xdsoft_current").length?e=".xdsoft_current":U.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=B[0].clientHeight,a=U[0].offsetHeight,i=U.find(e).index()*j.timeHeightInTimePicker+1,a-t<i&&(i=a-t),B.trigger("scroll_element.xdsoft_scroller",[parseInt(i,10)/(a-t)])):B.trigger("scroll_element.xdsoft_scroller",[0])}}),P=0,z.on("touchend click.xdsoft","td",function(t){t.stopPropagation(),P+=1;var a=e(this),n=L.currentTime;return void 0!==n&&null!==n||(L.currentTime=L.now(),n=L.currentTime),!a.hasClass("xdsoft_disabled")&&(n.setDate(1),n.setFullYear(a.data("year")),n.setMonth(a.data("month")),n.setDate(a.data("date")),_.trigger("select.xdsoft",[n]),i.val(L.str()),j.onSelectDate&&e.isFunction(j.onSelectDate)&&j.onSelectDate.call(_,L.currentTime,_.data("input"),t),_.data("changed",!0),_.trigger("xchange.xdsoft"),_.trigger("changedatetime.xdsoft"),(P>1||j.closeOnDateSelect===!0||j.closeOnDateSelect===!1&&!j.timepicker)&&!j.inline&&_.trigger("close.xdsoft"),void setTimeout(function(){P=0},200))}),U.on("touchmove","div",function(){a=!0}).on("touchend click.xdsoft","div",function(t){if(t.stopPropagation(),a)return void(a=!1);var i=e(this),n=L.currentTime;return void 0!==n&&null!==n||(L.currentTime=L.now(),n=L.currentTime),!i.hasClass("xdsoft_disabled")&&(n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),_.trigger("select.xdsoft",[n]),_.data("input").val(L.str()),j.onSelectTime&&e.isFunction(j.onSelectTime)&&j.onSelectTime.call(_,L.currentTime,_.data("input"),t),_.data("changed",!0),_.trigger("xchange.xdsoft"),_.trigger("changedatetime.xdsoft"),void(j.inline!==!0&&j.closeOnTimeSelect===!0&&_.trigger("close.xdsoft")))}),R.on("mousewheel.xdsoft",function(e){return!j.scrollMonth||(e.deltaY<0?L.nextMonth():L.prevMonth(),!1)}),i.on("mousewheel.xdsoft",function(e){return!j.scrollInput||(!j.datepicker&&j.timepicker?(E=U.find(".xdsoft_current").length?U.find(".xdsoft_current").eq(0).index():0,E+e.deltaY>=0&&E+e.deltaY<U.children().length&&(E+=e.deltaY),U.children().eq(E).length&&U.children().eq(E).trigger("mousedown"),!1):j.datepicker&&!j.timepicker?(R.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),i.val&&i.val(L.str()),_.trigger("changedatetime.xdsoft"),!1):void 0)}),_.on("changedatetime.xdsoft",function(t){if(j.onChangeDateTime&&e.isFunction(j.onChangeDateTime)){var a=_.data("input");j.onChangeDateTime.call(_,L.currentTime,a,t),delete j.value,a.trigger("change")}}).on("generate.xdsoft",function(){j.onGenerate&&e.isFunction(j.onGenerate)&&j.onGenerate.call(_,L.currentTime,_.data("input")),G&&(_.trigger("afterOpen.xdsoft"),G=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),E=0,$=function(e,t){do if(e=e.parentNode,t(e)===!1)break;while("HTML"!==e.nodeName)},A=function(){var t,a,i,n,s,r,o,l,d,c,u,h,m;if(l=_.data("input"),t=l.offset(),a=l[0],c="top",i=t.top+a.offsetHeight-1,n=t.left,s="absolute",d=e(window).width(),h=e(window).height(),m=e(window).scrollTop(),document.documentElement.clientWidth-t.left<R.parent().outerWidth(!0)){var f=R.parent().outerWidth(!0)-a.offsetWidth;n-=f}"rtl"===l.parent().css("direction")&&(n-=_.outerWidth()-l.outerWidth()),j.fixed?(i-=m,n-=e(window).scrollLeft(),s="fixed"):(o=!1,$(a,function(e){if("fixed"===window.getComputedStyle(e).getPropertyValue("position"))return o=!0,!1}),o?(s="fixed",i+_.outerHeight()>h+m?(c="bottom",i=h+m-t.top):i-=m):i+a.offsetHeight>h+m&&(i=t.top-a.offsetHeight+1),i<0&&(i=0),n+a.offsetWidth>d&&(n=d-a.offsetWidth)),r=_[0],$(r,function(e){var t;if(t=window.getComputedStyle(e).getPropertyValue("position"),"relative"===t&&d>=e.offsetWidth)return n-=(d-e.offsetWidth)/2,!1}),u={position:s,left:n,top:"",bottom:""},u[c]=i,_.css(u)},_.on("open.xdsoft",function(t){var a=!0;j.onShow&&e.isFunction(j.onShow)&&(a=j.onShow.call(_,L.currentTime,_.data("input"),t)),a!==!1&&(_.show(),A(),e(window).off("resize.xdsoft",A).on("resize.xdsoft",A),j.closeOnWithoutClick&&e([document.body,window]).on("touchstart mousedown.xdsoft",function t(){_.trigger("close.xdsoft"),e([document.body,window]).off("touchstart mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var a=!0;W.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),j.onClose&&e.isFunction(j.onClose)&&(a=j.onClose.call(_,L.currentTime,_.data("input"),t)),a===!1||j.opened||j.inline||_.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){_.is(":visible")?_.trigger("close.xdsoft"):_.trigger("open.xdsoft")}).data("input",i),K=0,_.data("xdsoft_datetime",L),_.setOptions(j),L.setCurrentTime(o()),i.data("xdsoft_datetimepicker",_).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){i.is(":disabled")||i.data("xdsoft_datetimepicker").is(":visible")&&j.closeOnInputClick||(clearTimeout(K),K=setTimeout(function(){i.is(":disabled")||(G=!0,L.setCurrentTime(o(),!0),j.mask&&l(j),_.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var a,i=t.which;return[v].indexOf(i)!==-1&&j.enterLikeTab?(a=e("input:visible,textarea:visible,button:visible,a:visible"),_.trigger("close.xdsoft"),a.eq(a.index(this)+1).focus(),!1):[N].indexOf(i)!==-1?(_.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){_.trigger("close.xdsoft")})},d=function(t){var a=t.data("xdsoft_datetimepicker");a&&(a.data("xdsoft_datetime",null),a.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===p&&(I=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===p&&(I=!1)}),this.each(function(){var t,a=e(this).data("xdsoft_datetimepicker");if(a){if("string"===e.type(s))switch(s){case"show":e(this).select().focus(),a.trigger("open.xdsoft");break;case"hide":a.trigger("close.xdsoft");break;case"toggle":a.trigger("toggle.xdsoft");break;case"destroy":d(e(this));break;case"reset":this.value=this.defaultValue,this.value&&a.data("xdsoft_datetime").isValidDate(n.parseDate(this.value,j.format))||a.data("changed",!1),a.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t=a.data("input"),t.trigger("blur.xdsoft");break;default:a[s]&&e.isFunction(a[s])&&(c=a[s](o))}else a.setOptions(s);return 0}"string"!==e.type(s)&&(!j.lazyInit||j.open||j.inline?l(e(this)):E(e(this)))}),c},e.fn.datetimepicker.defaults=i}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,o=l.call(arguments,1),d=0,u=0,h=0,m=0,f=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=r.detail*-1),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=h*-1,h=0),d=0===h?u:h,"deltaY"in r&&(h=r.deltaY*-1,d=h),"deltaX"in r&&(u=r.deltaX,0===h&&(d=u*-1)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");d*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");d*=v,h*=v,u*=v}if(m=Math.max(Math.abs(h),Math.abs(u)),(!s||m<s)&&(s=m,i(r,m)&&(s/=40)),i(r,m)&&(d/=40,u/=40,h/=40),d=Math[d>=1?"floor":"ceil"](d/s),u=Math[u>=1?"floor":"ceil"](u/s),h=Math[h>=1?"floor":"ceil"](h/s),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,p=t.clientY-y.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=s,t.offsetX=f,t.offsetY=p,t.deltaMode=0,o.unshift(t,d,u,h),n&&clearTimeout(n),n=setTimeout(a,200),(e.event.dispatch||e.event.handle).apply(this,o)}}function a(){s=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var n,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=r.length;d;)e.event.fixHooks[r[--d]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var a=o.length;a;)this.addEventListener(o[--a],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=o.length;a;)this.removeEventListener(o[--a],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var a=e(t),i=a["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(a.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(q){var H,I,J,K,L,M,u,r={},v={},w={},N={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},x=[function(e){var t=e.treeObj,a=f.event;t.bind(a.NODECREATED,function(t,a,i){j.apply(e.callback.onNodeCreated,[t,a,i])}),t.bind(a.CLICK,function(t,a,i,n,s){j.apply(e.callback.onClick,[a,i,n,s])}),t.bind(a.EXPAND,function(t,a,i){j.apply(e.callback.onExpand,[t,a,i])}),t.bind(a.COLLAPSE,function(t,a,i){j.apply(e.callback.onCollapse,[t,a,i])}),t.bind(a.ASYNC_SUCCESS,function(t,a,i,n){j.apply(e.callback.onAsyncSuccess,[t,a,i,n])}),t.bind(a.ASYNC_ERROR,function(t,a,i,n,s,r){j.apply(e.callback.onAsyncError,[t,a,i,n,s,r])}),t.bind(a.REMOVE,function(t,a,i){j.apply(e.callback.onRemove,[t,a,i])}),t.bind(a.SELECTED,function(t,a,i){j.apply(e.callback.onSelected,[a,i])}),t.bind(a.UNSELECTED,function(t,a,i){j.apply(e.callback.onUnSelected,[a,i])})}],y=[function(e){var t=f.event;e.treeObj.unbind(t.NODECREATED).unbind(t.CLICK).unbind(t.EXPAND).unbind(t.COLLAPSE).unbind(t.ASYNC_SUCCESS).unbind(t.ASYNC_ERROR).unbind(t.REMOVE).unbind(t.SELECTED).unbind(t.UNSELECTED)}],z=[function(e){var t=h.getCache(e);t||(t={},h.setCache(e,t)),t.nodes=[],t.doms=[]}],A=[function(e,t,a,i,n,s){if(a){var r=h.getRoot(e),o=e.data.key.children;a.level=t,a.tId=e.treeId+"_"+ ++r.zId,a.parentTId=i?i.tId:null,a.open="string"==typeof a.open?j.eqs(a.open,"true"):!!a.open,a[o]&&a[o].length>0?(a.isParent=!0,a.zAsync=!0):(a.isParent="string"==typeof a.isParent?j.eqs(a.isParent,"true"):!!a.isParent,a.open=!(!a.isParent||e.async.enable)&&a.open,a.zAsync=!a.isParent),a.isFirstNode=n,a.isLastNode=s,a.getParentNode=function(){return h.getNodeCache(e,a.parentTId)},a.getPreNode=function(){return h.getPreNode(e,a)},a.getNextNode=function(){return h.getNextNode(e,a)},a.getIndex=function(){return h.getNodeIndex(e,a)},a.getPath=function(){return h.getNodePath(e,a)},a.isAjaxing=!1,h.fixPIdKeyValue(e,a)}}],t=[function(e){var t=e.target,a=h.getSetting(e.data.treeId),i="",n=null,s="",r="",o=null,l=null,d=null;if(j.eqs(e.type,"mousedown")?r="mousedown":j.eqs(e.type,"mouseup")?r="mouseup":j.eqs(e.type,"contextmenu")?r="contextmenu":j.eqs(e.type,"click")?j.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+f.id.SWITCH)?(i=j.getNodeMainDom(t).id,s="switchNode"):(d=j.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(d).id,s="clickNode"):j.eqs(e.type,"dblclick")&&(r="dblclick",d=j.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(d).id,s="switchNode"),r.length>0&&0==i.length&&(d=j.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(d).id),i.length>0)switch(n=h.getNodeCache(a,i),s){case"switchNode":n.isParent&&(j.eqs(e.type,"click")||j.eqs(e.type,"dblclick")&&j.apply(a.view.dblClickExpand,[a.treeId,n],a.view.dblClickExpand))?o=H:s="";break;case"clickNode":o=I}switch(r){case"mousedown":l=J;break;case"mouseup":l=K;break;case"dblclick":l=L;break;case"contextmenu":l=M}return{stop:!1,node:n,nodeEventType:s,nodeEventCallback:o,treeEventType:r,treeEventCallback:l}}],B=[function(e){var t=h.getRoot(e);t||(t={},h.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()}],C=[],D=[],E=[],F=[],G=[],h={addNodeCache:function(e,t){h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){D.push(e)},addBeforeA:function(e){C.push(e)},addInnerAfterA:function(e){F.push(e)},addInnerBeforeA:function(e){E.push(e)},addInitBind:function(e){x.push(e)},addInitUnBind:function(e){y.push(e)},addInitCache:function(e){z.push(e)},addInitNode:function(e){A.push(e)},addInitProxy:function(e,a){a?t.splice(0,0,e):t.push(e)},addInitRoot:function(e){B.push(e)},addNodesData:function(e,t,a,n){var s=e.data.key.children;t[s]?a>=t[s].length&&(a=-1):(t[s]=[],a=-1),t[s].length>0&&0===a?(t[s][0].isFirstNode=!1,i.setNodeLineIcos(e,t[s][0])):t[s].length>0&&a<0&&(t[s][t[s].length-1].isLastNode=!1,i.setNodeLineIcos(e,t[s][t[s].length-1])),t.isParent=!0,a<0?t[s]=t[s].concat(n):(e=[a,0].concat(n),t[s].splice.apply(t[s],e))},addSelectedNode:function(e,t){var a=h.getRoot(e);h.isSelectedNode(e,t)||a.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&h.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){G.push(e)},exSetting:function(e){q.extend(!0,N,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,a){for(var i=0,n=D.length;i<n;i++)D[i].apply(this,arguments)},getBeforeA:function(e,t,a){for(var i=0,n=C.length;i<n;i++)C[i].apply(this,arguments)},getInnerAfterA:function(e,t,a){for(var i=0,n=F.length;i<n;i++)F[i].apply(this,arguments)},getInnerBeforeA:function(e,t,a){for(var i=0,n=E.length;i<n;i++)E[i].apply(this,arguments)},getCache:function(e){return w[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var a=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),n=0,s=i[a].length-1;n<=s;n++)if(i[a][n]===t)return n;return-1},getNextNode:function(e,t){if(!t)return null;for(var a=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),n=0,s=i[a].length-1;n<=s;n++)if(i[a][n]===t)return n==s?null:i[a][n+1];return null},getNodeByParam:function(e,t,a,i){if(!t||!a)return null;for(var n=e.data.key.children,s=0,r=t.length;s<r;s++){if(t[s][a]==i)return t[s];var o=h.getNodeByParam(e,t[s][n],a,i);if(o)return o}return null},getNodeCache:function(e,t){if(!t)return null;var a=w[e.treeId].nodes[h.getNodeCacheId(t)];return a?a:null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){if(!t)return null;var a;return(a=t.parentTId?t.getParentNode().getPath():[])&&a.push(t),a},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return h.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,a,i){if(!t||!a)return[];for(var n=e.data.key.children,s=[],r=0,o=t.length;r<o;r++)t[r][a]==i&&s.push(t[r]),s=s.concat(h.getNodesByParam(e,t[r][n],a,i));return s},getNodesByParamFuzzy:function(e,t,a,i){if(!t||!a)return[];for(var n=e.data.key.children,s=[],i=i.toLowerCase(),r=0,o=t.length;r<o;r++)"string"==typeof t[r][a]&&t[r][a].toLowerCase().indexOf(i)>-1&&s.push(t[r]),s=s.concat(h.getNodesByParamFuzzy(e,t[r][n],a,i));return s},getNodesByFilter:function(e,t,a,i,n){if(!t)return i?null:[];for(var s=e.data.key.children,r=i?null:[],o=0,l=t.length;o<l;o++){if(j.apply(a,[t[o],n],!1)){if(i)return t[o];r.push(t[o])}var d=h.getNodesByFilter(e,t[o][s],a,i,n);if(i&&d)return d;r=i?d:r.concat(d)}return r},getPreNode:function(e,t){if(!t)return null;for(var a=e.data.key.children,i=t.parentTId?t.getParentNode():h.getRoot(e),n=0,s=i[a].length;n<s;n++)if(i[a][n]===t)return 0==n?null:i[a][n-1];return null},getRoot:function(e){return e?v[e.treeId]:null},getRoots:function(){return v},getSetting:function(e){return r[e]},getSettings:function(){return r},getZTreeTools:function(e){return(e=this.getRoot(this.getSetting(e)))?e.treeTools:null},initCache:function(e){for(var t=0,a=z.length;t<a;t++)z[t].apply(this,arguments);
},initNode:function(e,t,a,i,n,s){for(var r=0,o=A.length;r<o;r++)A[r].apply(this,arguments)},initRoot:function(e){for(var t=0,a=B.length;t<a;t++)B[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var a=h.getRoot(e),i=0,n=a.curSelectedList.length;i<n;i++)if(t===a.curSelectedList[i])return!0;return!1},removeNodeCache:function(e,t){var a=e.data.key.children;if(t[a])for(var i=0,n=t[a].length;i<n;i++)arguments.callee(e,t[a][i]);h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var a=h.getRoot(e),i=0,n=a.curSelectedList.length;i<n;i++)t!==a.curSelectedList[i]&&h.getNodeCache(e,a.curSelectedList[i].tId)||(a.curSelectedList.splice(i,1),e.treeObj.trigger(f.event.UNSELECTED,[e.treeId,t]),i--,n--)},setCache:function(e,t){w[e.treeId]=t},setRoot:function(e,t){v[e.treeId]=t},setZTreeTools:function(e,t){for(var a=0,i=G.length;a<i;a++)G[a].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var a=e.data.key.children,i=[];if(j.isArray(t))for(var n=0,s=t.length;n<s;n++)i.push(t[n]),t[n][a]&&(i=i.concat(h.transformToArrayFormat(e,t[n][a])));else i.push(t),t[a]&&(i=i.concat(h.transformToArrayFormat(e,t[a])));return i},transformTozTreeFormat:function(e,t){var a,i,n=e.data.simpleData.idKey,s=e.data.simpleData.pIdKey,r=e.data.key.children;if(!n||""==n||!t)return[];if(j.isArray(t)){var o=[],l=[];for(a=0,i=t.length;a<i;a++)l[t[a][n]]=t[a];for(a=0,i=t.length;a<i;a++)l[t[a][s]]&&t[a][n]!=t[a][s]?(l[t[a][s]][r]||(l[t[a][s]][r]=[]),l[t[a][s]][r].push(t[a])):o.push(t[a]);return o}return[t]}},l={bindEvent:function(e){for(var t=0,a=x.length;t<a;t++)x[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,a=y.length;t<a;t++)y[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},a=e.treeObj;e.view.txtSelectedEnable||a.bind("selectstart",u).css({"-moz-user-select":"-moz-none"}),a.bind("click",t,l.proxy),a.bind("dblclick",t,l.proxy),a.bind("mouseover",t,l.proxy),a.bind("mouseout",t,l.proxy),a.bind("mousedown",t,l.proxy),a.bind("mouseup",t,l.proxy),a.bind("contextmenu",t,l.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",u).unbind("click",l.proxy).unbind("dblclick",l.proxy).unbind("mouseover",l.proxy).unbind("mouseout",l.proxy).unbind("mousedown",l.proxy).unbind("mouseup",l.proxy).unbind("contextmenu",l.proxy)},doProxy:function(e){for(var a=[],i=0,n=t.length;i<n;i++){var s=t[i].apply(this,arguments);if(a.push(s),s.stop)break}return a},proxy:function(e){var t=h.getSetting(e.data.treeId);if(!j.uCanDo(t,e))return!0;for(var t=l.doProxy(e),a=!0,i=0,n=t.length;i<n;i++){var s=t[i];s.nodeEventCallback&&(a=s.nodeEventCallback.apply(s,[e,s.node])&&a),s.treeEventCallback&&(a=s.treeEventCallback.apply(s,[e,s.node])&&a)}return a}};H=function(e,t){var a=h.getSetting(e.data.treeId);if(t.open){if(0==j.apply(a.callback.beforeCollapse,[a.treeId,t],!0))return!0}else if(0==j.apply(a.callback.beforeExpand,[a.treeId,t],!0))return!0;return h.getRoot(a).expandTriggerFlag=!0,i.switchNode(a,t),!0},I=function(e,t){var a=h.getSetting(e.data.treeId),n=a.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&h.isSelectedNode(a,t)?0:a.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&a.view.selectedMulti?2:1;return 0==j.apply(a.callback.beforeClick,[a.treeId,t,n],!0)||(0===n?i.cancelPreSelectedNode(a,t):i.selectNode(a,t,2===n),a.treeObj.trigger(f.event.CLICK,[e,a.treeId,t,n]),!0)},J=function(e,t){var a=h.getSetting(e.data.treeId);return j.apply(a.callback.beforeMouseDown,[a.treeId,t],!0)&&j.apply(a.callback.onMouseDown,[e,a.treeId,t]),!0},K=function(e,t){var a=h.getSetting(e.data.treeId);return j.apply(a.callback.beforeMouseUp,[a.treeId,t],!0)&&j.apply(a.callback.onMouseUp,[e,a.treeId,t]),!0},L=function(e,t){var a=h.getSetting(e.data.treeId);return j.apply(a.callback.beforeDblClick,[a.treeId,t],!0)&&j.apply(a.callback.onDblClick,[e,a.treeId,t]),!0},M=function(e,t){var a=h.getSetting(e.data.treeId);return j.apply(a.callback.beforeRightClick,[a.treeId,t],!0)&&j.apply(a.callback.onRightClick,[e,a.treeId,t]),"function"!=typeof a.callback.onRightClick},u=function(e){return e=e.originalEvent.srcElement.nodeName.toLowerCase(),"input"===e||"textarea"===e};var j={apply:function(e,t,a){return"function"==typeof e?e.apply(O,t?t:[]):a},canAsync:function(e,t){var a=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[a]&&t[a].length>0)},clone:function(e){if(null===e)return null;var t,a=j.isArray(e)?[]:{};for(t in e)a[t]=e[t]instanceof Date?new Date(e[t].getTime()):"object"==typeof e[t]?arguments.callee(e[t]):e[t];return a},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,a){return t&&"string"!=typeof t&&(a=t,t=""),"string"==typeof e?q(e,a?a.treeObj.get(0).ownerDocument:null):q("#"+e.tId+t,a?a.treeObj:null)},getMDom:function(e,t,a){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var i=0,n=a.length;t.tagName&&i<n;i++)if(j.eqs(t.tagName,a[i].tagName)&&null!==t.getAttribute(a[i].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return q(e).parent("li").get(0)||q(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return q(e).closest("#"+t).length>0},uCanDo:function(){return!0}},i={addNodes:function(e,t,a,n,s){if(!e.data.keep.leaf||!t||t.isParent)if(j.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=h.transformTozTreeFormat(e,n)),t){var r=k(t,f.id.SWITCH,e),o=k(t,f.id.ICON,e),l=k(t,f.id.UL,e);t.open||(i.replaceSwitchClass(t,r,f.folder.CLOSE),i.replaceIcoClass(t,o,f.folder.CLOSE),t.open=!1,l.css({display:"none"})),h.addNodesData(e,t,a,n),i.createNodes(e,t.level+1,n,t,a),s||i.expandCollapseParentNode(e,t,!0)}else h.addNodesData(e,h.getRoot(e),a,n),i.createNodes(e,0,n,null,a)},appendNodes:function(e,t,a,n,s,r,o){if(!a)return[];var l,d,c=[],u=e.data.key.children,m=(n?n:h.getRoot(e))[u];(!m||s>=m.length)&&(s=-1);for(var f=0,p=a.length;f<p;f++){var g=a[f];r&&(l=(0===s||m.length==a.length)&&0==f,d=s<0&&f==a.length-1,h.initNode(e,t,g,n,l,d,o),h.addNodeCache(e,g)),l=[],g[u]&&g[u].length>0&&(l=i.appendNodes(e,t+1,g[u],g,-1,r,o&&g.open)),o&&(i.makeDOMNodeMainBefore(c,e,g),i.makeDOMNodeLine(c,e,g),h.getBeforeA(e,g,c),i.makeDOMNodeNameBefore(c,e,g),h.getInnerBeforeA(e,g,c),i.makeDOMNodeIcon(c,e,g),h.getInnerAfterA(e,g,c),i.makeDOMNodeNameAfter(c,e,g),h.getAfterA(e,g,c),g.isParent&&g.open&&i.makeUlHtml(e,g,c,l.join("")),i.makeDOMNodeMainAfter(c,e,g),h.addCreatedNode(e,g))}return c},appendParentULDom:function(e,t){var a=[],n=k(t,e);!n.get(0)&&t.parentTId&&(i.appendParentULDom(e,t.getParentNode()),n=k(t,e));var s=k(t,f.id.UL,e);s.get(0)&&s.remove(),s=i.appendNodes(e,t.level+1,t[e.data.key.children],t,-1,!1,!0),i.makeUlHtml(e,t,a,s.join("")),n.append(a.join(""))},asyncNode:function(b,a,c,d){var e,g;if(a&&!a.isParent)return j.apply(d),!1;if(a&&a.isAjaxing)return!1;if(0==j.apply(b.callback.beforeAsync,[b.treeId,a],!0))return j.apply(d),!1;a&&(a.isAjaxing=!0,k(a,f.id.ICON,b).attr({style:"",class:f.className.BUTTON+" "+f.className.ICO_LOADING}));var n={};for(e=0,g=b.async.autoParam.length;a&&e<g;e++){var o=b.async.autoParam[e].split("="),m=o;o.length>1&&(m=o[1],o=o[0]),n[m]=a[o]}if(j.isArray(b.async.otherParam))for(e=0,g=b.async.otherParam.length;e<g;e+=2)n[b.async.otherParam[e]]=b.async.otherParam[e+1];else for(var l in b.async.otherParam)n[l]=b.async.otherParam[l];var P=h.getRoot(b)._ver;return q.ajax({contentType:b.async.contentType,cache:!1,type:b.async.type,url:j.apply(b.async.url,[b.treeId,a],b.async.url),data:n,dataType:b.async.dataType,success:function(e){if(P==h.getRoot(b)._ver){var g=[];try{g=e&&0!=e.length?"string"==typeof e?eval("("+e+")"):e:[]}catch(t){g=e}a&&(a.isAjaxing=null,a.zAsync=!0),i.setNodeLineIcos(b,a),g&&""!==g?(g=j.apply(b.async.dataFilter,[b.treeId,a,g],g),i.addNodes(b,a,-1,g?j.clone(g):[],!!c)):i.addNodes(b,a,-1,[],!!c),b.treeObj.trigger(f.event.ASYNC_SUCCESS,[b.treeId,a,e]),j.apply(d)}},error:function(e,t,n){P==h.getRoot(b)._ver&&(a&&(a.isAjaxing=null),i.setNodeLineIcos(b,a),b.treeObj.trigger(f.event.ASYNC_ERROR,[b.treeId,a,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,a){var i,n,s=h.getRoot(e).curSelectedList;for(i=s.length-1;i>=0;i--)if(n=s[i],t===n||!t&&(!a||a!==n)){if(k(n,f.id.A,e).removeClass(f.node.CURSELECTED),t){h.removeSelectedNode(e,t);break}s.splice(i,1),e.treeObj.trigger(f.event.UNSELECTED,[e.treeId,n])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=h.getRoot(e);t.createdNodes.length>0;){var a=t.createdNodes.shift();j.apply(e.view.addDiyDom,[e.treeId,a]),e.callback.onNodeCreated&&e.treeObj.trigger(f.event.NODECREATED,[e.treeId,a])}},createNodes:function(e,t,a,n,s){if(a&&0!=a.length){var r=h.getRoot(e),o=e.data.key.children,o=!n||n.open||!!k(n[o][0],e).get(0);r.createdNodes=[];var l,d,t=i.appendNodes(e,t,a,n,s,!0,o);n?(n=k(n,f.id.UL,e),n.get(0)&&(l=n)):l=e.treeObj,l&&(s>=0&&(d=l.children()[s]),s>=0&&d?q(d).before(t.join("")):l.append(t.join(""))),i.createNodeCallback(e)}},destroy:function(e){e&&(h.initCache(e),h.initRoot(e),l.unbindTree(e),l.unbindEvent(e),e.treeObj.empty(),delete r[e.treeId])},expandCollapseNode:function(e,t,a,n,s){var r=h.getRoot(e),o=e.data.key.children;if(t){if(r.expandTriggerFlag){var l=s,s=function(){l&&l(),t.open?e.treeObj.trigger(f.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(f.event.COLLAPSE,[e.treeId,t])};r.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!k(t,f.id.UL,e).get(0)||t[o]&&t[o].length>0&&!k(t[o][0],e).get(0))&&(i.appendParentULDom(e,t),i.createNodeCallback(e)),t.open==a)j.apply(s,[]);else{var a=k(t,f.id.UL,e),r=k(t,f.id.SWITCH,e),d=k(t,f.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",i.makeNodeIcoStyle(e,t)),t.open?(i.replaceSwitchClass(t,r,f.folder.OPEN),i.replaceIcoClass(t,d,f.folder.OPEN),0==n||""==e.view.expandSpeed?(a.show(),j.apply(s,[])):t[o]&&t[o].length>0?a.slideDown(e.view.expandSpeed,s):(a.show(),j.apply(s,[]))):(i.replaceSwitchClass(t,r,f.folder.CLOSE),i.replaceIcoClass(t,d,f.folder.CLOSE),0!=n&&""!=e.view.expandSpeed&&t[o]&&t[o].length>0?a.slideUp(e.view.expandSpeed,s):(a.hide(),j.apply(s,[])))):j.apply(s,[])}}else j.apply(s,[])},expandCollapseParentNode:function(e,t,a,n,s){t&&(t.parentTId?(i.expandCollapseNode(e,t,a,n),t.parentTId&&i.expandCollapseParentNode(e,t.getParentNode(),a,n,s)):i.expandCollapseNode(e,t,a,n,s))},expandCollapseSonNode:function(e,t,a,n,s){var r=h.getRoot(e),o=e.data.key.children,r=t?t[o]:r[o],o=!t&&n,l=h.getRoot(e).expandTriggerFlag;if(h.getRoot(e).expandTriggerFlag=!1,r)for(var d=0,c=r.length;d<c;d++)r[d]&&i.expandCollapseSonNode(e,r[d],a,o);h.getRoot(e).expandTriggerFlag=l,i.expandCollapseNode(e,t,a,n,s)},isSelectedNode:function(e,t){if(!t)return!1;var a,i=h.getRoot(e).curSelectedList;for(a=i.length-1;a>=0;a--)if(t===i[a])return!0;return!1},makeDOMNodeIcon:function(e,t,a){var n=h.getNodeName(t,a),n=t.view.nameIsHTML?n:n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",a.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(t,a),"' style='",i.makeNodeIcoStyle(t,a),"'></span><span id='",a.tId,f.id.SPAN,"' class='",f.className.NAME,"'>",n,"</span>")},makeDOMNodeLine:function(e,t,a){e.push("<span id='",a.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(t,a),"' treeNode",f.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,a){e.push("<li id='",a.tId,"' class='",f.className.LEVEL,a.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,a){var n,s=h.getNodeTitle(t,a),r=i.makeNodeUrl(t,a),o=i.makeNodeFontCss(t,a),l=[];for(n in o)l.push(n,":",o[n],";");e.push("<a id='",a.tId,f.id.A,"' class='",f.className.LEVEL,a.level,"' treeNode",f.id.A,' onclick="',a.click||"",'" ',null!=r&&r.length>0?"href='"+r+"'":""," target='",i.makeNodeTarget(a),"' style='",l.join(""),"'"),j.apply(t.view.showTitle,[t.treeId,a],t.view.showTitle)&&s&&e.push("title='",s.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var a=j.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return a&&"function"!=typeof a?a:{}},makeNodeIcoClass:function(e,t){var a=["ico"];return t.isAjaxing||(a[0]=(t.iconSkin?t.iconSkin+"_":"")+a[0],t.isParent?a.push(t.open?f.folder.OPEN:f.folder.CLOSE):a.push(f.folder.DOCU)),f.className.BUTTON+" "+a.join("_")},makeNodeIcoStyle:function(e,t){var a=[];if(!t.isAjaxing){var i=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];i&&a.push("background:url(",i,") 0 0 no-repeat;"),(0==e.view.showIcon||!j.apply(e.view.showIcon,[e.treeId,t],!0))&&a.push("width:0px;height:0px;")}return a.join("")},makeNodeLineClass:function(e,t){var a=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?a.push(f.line.ROOT):0==t.level&&t.isFirstNode?a.push(f.line.ROOTS):t.isLastNode?a.push(f.line.BOTTOM):a.push(f.line.CENTER):a.push(f.line.NOLINE),t.isParent?a.push(t.open?f.folder.OPEN:f.folder.CLOSE):a.push(f.folder.DOCU),i.makeNodeLineClassEx(t)+a.join("_")},makeNodeLineClassEx:function(e){return f.className.BUTTON+" "+f.className.LEVEL+e.level+" "+f.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var a=e.data.key.url;return t[a]?t[a]:null},makeUlHtml:function(e,t,a,n){a.push("<ul id='",t.tId,f.id.UL,"' class='",f.className.LEVEL,t.level," ",i.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),a.push(n),a.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?f.line.LINE:""},removeChildNodes:function(e,t){if(t){var a=e.data.key.children,n=t[a];if(n){for(var s=0,r=n.length;s<r;s++)h.removeNodeCache(e,n[s]);h.removeSelectedNode(e),delete t[a],e.data.keep.parent?k(t,f.id.UL,e).empty():(t.isParent=!1,t.open=!1,a=k(t,f.id.SWITCH,e),n=k(t,f.id.ICON,e),i.replaceSwitchClass(t,a,f.folder.DOCU),i.replaceIcoClass(t,n,f.folder.DOCU),k(t,f.id.UL,e).remove())}}},setFirstNode:function(e,t){var a=e.data.key.children;t[a].length>0&&(t[a][0].isFirstNode=!0)},setLastNode:function(e,t){var a=e.data.key.children,i=t[a].length;i>0&&(t[a][i-1].isLastNode=!0)},removeNode:function(e,t){var a=h.getRoot(e),n=e.data.key.children,s=t.parentTId?t.getParentNode():a;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},h.getNodeCache(e,t.tId)){k(t,e).remove(),h.removeNodeCache(e,t),h.removeSelectedNode(e,t);for(var r=0,o=s[n].length;r<o;r++)if(s[n][r].tId==t.tId){s[n].splice(r,1);break}i.setFirstNode(e,s),i.setLastNode(e,s);var l,r=s[n].length;if(e.data.keep.parent||0!=r){if(e.view.showLine&&r>0){var d=s[n][r-1],r=k(d,f.id.UL,e),o=k(d,f.id.SWITCH,e);l=k(d,f.id.ICON,e),s==a?1==s[n].length?i.replaceSwitchClass(d,o,f.line.ROOT):(a=k(s[n][0],f.id.SWITCH,e),i.replaceSwitchClass(s[n][0],a,f.line.ROOTS),i.replaceSwitchClass(d,o,f.line.BOTTOM)):i.replaceSwitchClass(d,o,f.line.BOTTOM),r.removeClass(f.line.LINE)}}else s.isParent=!1,s.open=!1,r=k(s,f.id.UL,e),o=k(s,f.id.SWITCH,e),l=k(s,f.id.ICON,e),i.replaceSwitchClass(s,o,f.folder.DOCU),i.replaceIcoClass(s,l,f.folder.DOCU),r.css("display","none")}},replaceIcoClass:function(e,t,a){if(t&&!e.isAjaxing&&(e=t.attr("class"),void 0!=e)){switch(e=e.split("_"),a){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:e[e.length-1]=a}t.attr("class",e.join("_"))}},replaceSwitchClass:function(e,t,a){if(t){var n=t.attr("class");if(void 0!=n){switch(n=n.split("_"),a){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:n[0]=i.makeNodeLineClassEx(e)+a;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:n[1]=a}t.attr("class",n.join("_")),a!==f.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,a){a||i.cancelPreSelectedNode(e,null,t),k(t,f.id.A,e).addClass(f.node.CURSELECTED),h.addSelectedNode(e,t),e.treeObj.trigger(f.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var a=k(t,f.id.A,e),n=i.makeNodeFontCss(e,t);n&&a.css(n)},setNodeLineIcos:function(e,t){if(t){var a=k(t,f.id.SWITCH,e),n=k(t,f.id.UL,e),s=k(t,f.id.ICON,e),r=i.makeUlLineClass(e,t);0==r.length?n.removeClass(f.line.LINE):n.addClass(r),a.attr("class",i.makeNodeLineClass(e,t)),t.isParent?a.removeAttr("disabled"):a.attr("disabled","disabled"),s.removeAttr("style"),s.attr("style",i.makeNodeIcoStyle(e,t)),s.attr("class",i.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var a=h.getNodeTitle(e,t),i=k(t,f.id.SPAN,e);i.empty(),e.view.nameIsHTML?i.html(h.getNodeName(e,t)):i.text(h.getNodeName(e,t)),j.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&k(t,f.id.A,e).attr("title",a?a:"")},setNodeTarget:function(e,t){k(t,f.id.A,e).attr("target",i.makeNodeTarget(t))},setNodeUrl:function(e,t){var a=k(t,f.id.A,e),n=i.makeNodeUrl(e,t);null==n||0==n.length?a.removeAttr("href"):a.attr("href",n)},switchNode:function(e,t){t.open||!j.canAsync(e,t)?i.expandCollapseNode(e,t,!t.open):e.async.enable?i.asyncNode(e,t)||i.expandCollapseNode(e,t,!t.open):t&&i.expandCollapseNode(e,t,!t.open)}};q.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:l,data:h},getZTreeObj:function(e){return(e=h.getZTreeTools(e))?e:null},destroy:function(e){if(e&&e.length>0)i.destroy(h.getSetting(e));else for(var t in r)i.destroy(r[t])},init:function(e,t,a){var n=j.clone(N);return q.extend(!0,n,t),n.treeId=e.attr("id"),n.treeObj=e,n.treeObj.empty(),r[n.treeId]=n,"undefined"==typeof document.body.style.maxHeight&&(n.view.expandSpeed=""),h.initRoot(n),e=h.getRoot(n),t=n.data.key.children,a=a?j.clone(j.isArray(a)?a:[a]):[],e[t]=n.data.simpleData.enable?h.transformTozTreeFormat(n,a):a,h.initCache(n),l.unbindTree(n),l.bindTree(n),l.unbindEvent(n),l.bindEvent(n),a={setting:n,addNodes:function(e,t,a,s){function r(){i.addNodes(n,e,t,l,1==s)}if(e||(e=null),e&&!e.isParent&&n.data.keep.leaf)return null;var o=parseInt(t,10);if(isNaN(o)?(s=!!a,a=t,t=-1):t=o,!a)return null;var l=j.clone(j.isArray(a)?a:[a]);return j.canAsync(n,e)?i.asyncNode(n,e,s,r):r(),l},cancelSelectedNode:function(e){i.cancelPreSelectedNode(n,e)},destroy:function(){i.destroy(n)},expandAll:function(e){return e=!!e,i.expandCollapseSonNode(n,null,e,!0),e},expandNode:function(e,t,a,s,r){function o(){var t=k(e,n).get(0);if(t&&s!==!1)if(t.scrollIntoView)t.scrollIntoView();else try{t.focus().blur()}catch(e){}}return e&&e.isParent?(t!==!0&&t!==!1&&(t=!e.open),(r=!!r)&&t&&0==j.apply(n.callback.beforeExpand,[n.treeId,e],!0)?null:r&&!t&&0==j.apply(n.callback.beforeCollapse,[n.treeId,e],!0)?null:(t&&e.parentTId&&i.expandCollapseParentNode(n,e.getParentNode(),t,!1),t!==e.open||a?(h.getRoot(n).expandTriggerFlag=r,!j.canAsync(n,e)&&a?i.expandCollapseSonNode(n,e,t,!0,o):(e.open=!t,i.switchNode(this.setting,e),o()),t):null)):null},getNodes:function(){return h.getNodes(n)},getNodeByParam:function(e,t,a){return e?h.getNodeByParam(n,a?a[n.data.key.children]:h.getNodes(n),e,t):null},getNodeByTId:function(e){return h.getNodeCache(n,e)},getNodesByParam:function(e,t,a){return e?h.getNodesByParam(n,a?a[n.data.key.children]:h.getNodes(n),e,t):null},getNodesByParamFuzzy:function(e,t,a){return e?h.getNodesByParamFuzzy(n,a?a[n.data.key.children]:h.getNodes(n),e,t):null},getNodesByFilter:function(e,t,a,i){return t=!!t,e&&"function"==typeof e?h.getNodesByFilter(n,a?a[n.data.key.children]:h.getNodes(n),e,t,i):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=n.data.key.children,a=e.parentTId?e.getParentNode():h.getRoot(n),i=0,s=a[t].length;i<s;i++)if(a[t][i]==e)return i;return-1},getSelectedNodes:function(){for(var e=[],t=h.getRoot(n).curSelectedList,a=0,i=t.length;a<i;a++)e.push(t[a]);return e},isSelectedNode:function(e){return h.isSelectedNode(n,e)},reAsyncChildNodes:function(e,t,a){if(this.setting.async.enable){var s=!e;if(s&&(e=h.getRoot(n)),"refresh"==t){for(var t=this.setting.data.key.children,r=0,o=e[t]?e[t].length:0;r<o;r++)h.removeNodeCache(n,e[t][r]);h.removeSelectedNode(n),e[t]=[],s?this.setting.treeObj.empty():k(e,f.id.UL,n).empty()}i.asyncNode(this.setting,s?null:e,!!a)}},refresh:function(){this.setting.treeObj.empty();var e=h.getRoot(n),t=e[n.data.key.children];h.initRoot(n),e[n.data.key.children]=t,h.initCache(n),i.createNodes(n,0,e[n.data.key.children],null,-1)},removeChildNodes:function(e){if(!e)return null;var t=e[n.data.key.children];return i.removeChildNodes(n,e),t?t:null},removeNode:function(e,t){e&&(t=!!t,t&&0==j.apply(n.callback.beforeRemove,[n.treeId,e],!0)||(i.removeNode(n,e),t&&this.setting.treeObj.trigger(f.event.REMOVE,[n.treeId,e])))},selectNode:function(e,t){function a(){var t=k(e,n).get(0);if(t)if(t.scrollIntoView)t.scrollIntoView();else try{t.focus().blur()}catch(e){}}if(e&&j.uCanDo(n)){if(t=n.view.selectedMulti&&t,e.parentTId)i.expandCollapseParentNode(n,e.getParentNode(),!0,!1,a);else try{k(e,n).focus().blur()}catch(e){}i.selectNode(n,e,t)}},transformTozTreeNodes:function(e){return h.transformTozTreeFormat(n,e)},transformToArray:function(e){return h.transformToArrayFormat(n,e)},updateNode:function(e){e&&k(e,n).get(0)&&j.uCanDo(n)&&(i.setNodeName(n,e),i.setNodeTarget(n,e),i.setNodeUrl(n,e),i.setNodeLineIcos(n,e),i.setNodeFontCss(n,e))}},e.treeTools=a,h.setZTreeTools(n,a),e[t]&&e[t].length>0?i.createNodes(n,0,e[t],null,-1):n.async.enable&&n.async.url&&""!==n.async.url&&i.asyncNode(n),a}};var O=q.fn.zTree,k=j.$,f=O.consts}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var a=e.data(this[0],"validator");return a?a:(this.attr("novalidate","novalidate"),a=new e.validator(t,this[0]),e.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(t){a.settings.submitHandler&&(a.submitButton=t.target),e(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(t){function i(){var i,n;return!a.settings.submitHandler||(a.submitButton&&(i=e("<input type='hidden'/>").attr("name",a.submitButton.name).val(e(a.submitButton).val()).appendTo(a.currentForm)),n=a.settings.submitHandler.call(a,a.currentForm,t),a.submitButton&&i.remove(),void 0!==n&&n)}return a.settings.debug&&t.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,i()):a.form()?a.pendingRequest?(a.formSubmitted=!0,!1):i():(a.focusInvalid(),!1)})),a)},valid:function(){var t,a,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,a=e(this[0].form).validate(),this.each(function(){t=a.element(this)&&t,t||(i=i.concat(a.errorList))}),a.errorList=i),t},rules:function(t,a){if(this.length){var i,n,s,r,o,l,d=this[0];if(t)switch(i=e.data(d.form,"validator").settings,n=i.rules,s=e.validator.staticRules(d),t){case"add":e.extend(s,e.validator.normalizeRule(a)),delete s.messages,n[d.name]=s,a.messages&&(i.messages[d.name]=e.extend(i.messages[d.name],a.messages));break;case"remove":return a?(l={},e.each(a.split(/\s/),function(t,a){l[a]=s[a],delete s[a],"required"===a&&e(d).removeAttr("aria-required")}),l):(delete n[d.name],s)}return r=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),r.required&&(o=r.required,delete r.required,r=e.extend({required:o},r),e(d).attr("aria-required","true")),r.remote&&(o=r.remote,delete r.remote,r=e.extend(r,{remote:o})),r}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var a=e(t).val();return null!==a&&!!e.trim(""+a)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,a){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=a,this.init()},e.validator.format=function(t,a){return 1===arguments.length?function(){var a=e.makeArray(arguments);return a.unshift(t),e.validator.format.apply(this,a)}:void 0===a?t:(arguments.length>2&&a.constructor!==Array&&(a=e.makeArray(arguments).slice(1)),a.constructor!==Array&&(a=[a]),e.each(a,function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return a})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,a){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===a.which&&""===this.elementValue(t)||e.inArray(a.keyCode,i)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,a,i){"radio"===t.type?this.findByName(t.name).addClass(a).removeClass(i):e(t).addClass(a).removeClass(i)},unhighlight:function(t,a,i){"radio"===t.type?this.findByName(t.name).removeClass(a).addClass(i):e(t).removeClass(a).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var a=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),n=a.settings;n[i]&&!e(this).is(n.ignore)&&n[i].call(a,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,i=this.groups={};e.each(this.settings.groups,function(t,a){"string"==typeof a&&(a=a.split(/\s/)),e.each(a,function(e,a){i[a]=t})}),a=this.settings.rules,e.each(a,function(t,i){a[t]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var a,i,n=this.clean(t),s=this.validationTargetFor(n),r=this,o=!0;return void 0===s?delete this.invalid[n.name]:(this.prepareElement(s),this.currentElements=e(s),i=this.groups[s.name],i&&e.each(this.groups,function(e,t){t===i&&e!==s.name&&(n=r.validationTargetFor(r.clean(r.findByName(e))),n&&n.name in r.invalid&&(r.currentElements.push(n),o=o&&r.check(n)))}),a=this.check(s)!==!1,o=o&&a,a?this.invalid[s.name]=!1:this.invalid[s.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!a)),o},showErrors:function(t){if(t){var a=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:a.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)e[t]&&a++;return a},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||e(this).attr("name");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),!(i in a||!t.objectLength(e(this).rules()))&&(a[i]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var a,i,n=e(t),s=t.type;return"radio"===s||"checkbox"===s?this.findByName(t.name).filter(":checked").val():"number"===s&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":n.val():(a=t.hasAttribute("contenteditable")?n.text():n.val(),
"file"===s?"C:\\fakepath\\"===a.substr(0,12)?a.substr(12):(i=a.lastIndexOf("/"),i>=0?a.substr(i+1):(i=a.lastIndexOf("\\"),i>=0?a.substr(i+1):a)):"string"==typeof a?a.replace(/\r/g,""):a)},check:function(t){t=this.validationTargetFor(this.clean(t));var a,i,n,s=e(t).rules(),r=e.map(s,function(e,t){return t}).length,o=!1,l=this.elementValue(t);if("function"==typeof s.normalizer){if(l=s.normalizer.call(t,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete s.normalizer}for(i in s){n={method:i,parameters:s[i]};try{if(a=e.validator.methods[i].call(this,l,t,n.parameters),"dependency-mismatch"===a&&1===r){o=!0;continue}if(o=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!o)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,a){return e(t).data("msg"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,a){var i=this.findDefined(this.customMessage(t.name,a.method),this.customDataMessage(t,a.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[a.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,a.parameters,t):n.test(i)&&(i=e.validator.format(i.replace(n,"{$1}"),a.parameters)),i},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t);this.errorList.push({message:a,element:e,method:t.method}),this.errorMap[e.name]=a,this.submitted[e.name]=a},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++)a=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass),this.showLabel(a.element,a.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,a){var i,n,s,r,o=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(a)):(o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(a||""),i=o,this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(s=o.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(d+=" "+s):d=s,e(t).attr("aria-describedby",d),n=this.groups[t.name],n&&(r=this,e.each(r.groups,function(t,a){a===n&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))})))),!a&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var a=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),n="label[for='"+a+"'], label[for='"+a+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,a){switch(a.nodeName.toLowerCase()){case"select":return e("option:selected",a).length;case"input":if(this.checkable(a))return this.findByName(a.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,a){return!!e(t,a.form).length},function:function(e,t){return e(t)}},optional:function(t){var a=this.elementValue(t);return!e.validator.methods.required.call(this,a,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,a){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),a&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!a&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,a){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:a})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,a){t.constructor===String?this.classRuleSettings[t]=a:e.extend(this.classRuleSettings,t)},classRules:function(t){var a={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(a,e.validator.classRuleSettings[this])}),a},normalizeAttributeRule:function(e,t,a,i){/min|max|step/.test(a)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[a]=i:t===a&&"range"!==t&&(e[a]=!0)},attributeRules:function(t){var a,i,n={},s=e(t),r=t.getAttribute("type");for(a in e.validator.methods)"required"===a?(i=t.getAttribute(a),""===i&&(i=!0),i=!!i):i=s.attr(a),this.normalizeAttributeRule(n,r,a,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var a,i,n={},s=e(t),r=t.getAttribute("type");for(a in e.validator.methods)i=s.data("rule"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()),this.normalizeAttributeRule(n,r,a,i);return n},staticRules:function(t){var a={},i=e.data(t.form,"validator");return i.settings.rules&&(a=e.validator.normalizeRule(i.settings.rules[t.name])||{}),a},normalizeRules:function(t,a){return e.each(t,function(i,n){if(n===!1)return void delete t[i];if(n.param||n.depends){var s=!0;switch(typeof n.depends){case"string":s=!!e(n.depends,a.form).length;break;case"function":s=n.depends.call(a,a)}s?t[i]=void 0===n.param||n.param:(e.data(a.form,"validator").resetElements(e(a)),delete t[i])}}),e.each(t,function(i,n){t[i]=e.isFunction(n)&&"normalizer"!==i?n(a):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var a;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(a=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(a[0]),Number(a[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var a={};e.each(t.split(/\s/),function(){a[this]=!0}),t=a}return t},addMethod:function(t,a,i){e.validator.methods[t]=a,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],a.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,a,i){if(!this.depend(i,a))return"dependency-mismatch";if("select"===a.nodeName.toLowerCase()){var n=e(a).val();return n&&n.length>0}return this.checkable(a)?this.getLength(t,a)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||n>=i},maxlength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||n<=i},rangelength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(t,a);return this.optional(a)||n>=i[0]&&n<=i[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},step:function(t,a,i){var n=e(a).attr("type"),s="Step attribute on input type "+n+" is not supported.",r=["text","number","range"],o=new RegExp("\\b"+n+"\\b"),l=n&&!o.test(r.join());if(l)throw new Error(s);return this.optional(a)||t%i===0},equalTo:function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(a).valid()}),t===n.val()},remote:function(t,a,i,n){if(this.optional(a))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var s,r,o,l=this.previousValue(a,n);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[a.name][n],this.settings.messages[a.name][n]=l.message,i="string"==typeof i&&{url:i}||i,o=e.param(e.extend({data:t},i.data)),l.old===o?l.valid:(l.old=o,s=this,this.startRequest(a),r={},r[a.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:r,context:s.currentForm,success:function(e){var i,r,o,d=e===!0||"true"===e;s.settings.messages[a.name][n]=l.originalMessage,d?(o=s.formSubmitted,s.resetInternals(),s.toHide=s.errorsFor(a),s.formSubmitted=o,s.successList.push(a),s.invalid[a.name]=!1,s.showErrors()):(i={},r=e||s.defaultMessage(a,{method:n,parameters:t}),i[a.name]=l.message=r,s.invalid[a.name]=!0,s.showErrors(i)),l.valid=d,s.stopRequest(a,d)}},i)),"pending")}}});var t,a={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(a[n]&&a[n].abort(),a[n]=i)}):(t=e.ajax,e.ajax=function(i){var n=("mode"in i?i:e.ajaxSettings).mode,s=("port"in i?i:e.ajaxSettings).port;return"abort"===n?(a[s]&&a[s].abort(),a[s]=t.apply(this,arguments),a[s]):t.apply(this,arguments)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.validator.messages,{required:"这是必填字段",remote:"请修正此字段",email:"请输入有效的电子邮件地址",url:"请输入有效的网址",date:"请输入有效的日期",dateISO:"请输入有效的日期 (YYYY-MM-DD)",number:"请输入有效的数字",digits:"只能输入数字",creditcard:"请输入有效的信用卡号码",equalTo:"你的输入不相同",extension:"请输入有效的后缀",maxlength:e.validator.format("最多可以输入 {0} 个字符"),minlength:e.validator.format("最少要输入 {0} 个字符"),rangelength:e.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),range:e.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),max:e.validator.format("请输入不大于 {0} 的数值"),min:e.validator.format("请输入不小于 {0} 的数值")})}),Vue.component("calendar",{template:'<div class="calendar-custom">            <div class="calendar-head">                <p class="date">                    <a href="javascript:void(0);" class="btn-left" v-on:click="monthCut">                        <i class="icon-angle-left"></i>                    </a>                    <a href="javascript:void(0);" class="btn-right" v-on:click="monthAdd">                        <i class="icon-angle-right"></i>                    </a>                    <span><b>{{year}}</b>年<b>{{month+1}}</b>月</span>                </p>            </div>            <p class="week clearfix">                <span>周一</span>                <span>周二</span>                <span>周三</span>                <span>周四</span>                <span>周五</span>                <span>周六</span>                <span>周日</span>            </p>            <div class="days-con">            <ul class="days clearfix">                <li v-for="item in days.prev" class="none" track-by="$index">                    <b>{{item}}</b>                    <span "></span>                </li>                <li v-for="item in days.now" :class="{\'none\': year == yearNow && month == monthNow &&  item > dayNow }" v-on:click="click(item)" track-by="$index">                    <b>{{item}}</b>                    <span :class="{\'green\':  statuPre[item-1] == 1,\'red\':  statuPre[item-1] == 2,\'empty\':  statuPre[item-1] == 3 }"></span>                </li>                <li v-for="item in days.next" class="none" track-by="$index">                    <b>{{item}}</b>                    <span"></span>                </li>            </ul>            </div><template v-if="url">            <p class="statis">                <span class="status green"></span>                正常出勤<b>{{fattnCount}}</b>天&nbsp;                <span class="status red"></span>                迟到<b>{{flateCount}}</b>次&nbsp;                <span class="status red"></span>                早退<b>{{fleaveCount}}</b>次&nbsp;                <span class="status red"></span>                旷工<b>{{fabsenceCount}}</b>次            </p></template>        </div>',props:["clickFun","url","monthChangeFun","clearFun"],data:function(){return{days:[],statuPre:[],fabsenceCount:"",fattnCount:"",flateCount:"",fleaveCount:"",year:"",month:"",day:"",week:"",yearNow:"",monthNow:"",dayNow:"",weekNow:"",firstDayWeek:"",late:"",leaveEarly:"",workNone:"",active:"",fpersonId:"",numCount:1}},ready:function(){this.year=this.yearNow=this.today().year,this.month=this.monthNow=this.today().month,this.day=this.dayNow=this.today().day,this.week=this.weekNow=this.today().week;var e=(this.dayNow,this.weekNow),t=(this.weekNow,this.dayNow-7*parseInt(this.dayNow/7));0==t&&(t=7);for(var a=t;a>1;a--)e--,e<0&&(e=6);this.firstDayWeek=e,this.days=this.monthView(this.year,this.month),this.chose(this.dayNow)},methods:{clear:function(){this.active&&(this.active.className="",this.active=null),this.clearFun&&this.clearFun()},req:function(e){if(e&&e.fpersonId)this.fpersonId=e.fpersonId,this.year=e.month.split("-")[0],this.month=parseInt(e.month.split("-")[1])-1,this.days=this.monthView(this.year,this.month);else{var e={month:this.year+"-"+(this.month+1<10&&"0"+(this.month+1)||this.month+1),fpersonId:this.fpersonId};this.days=this.monthView(this.year,this.month)}if(this.url){this.numCount++;var t=this.numCount,a=this;$.ajax({url:a.url,type:"GET",cache:!1,dataType:"JSON",data:e,success:function(e){a.numCount==t&&(a.statuPre=a.statusCalc(e.attnList),a.fabsenceCount=e.fabsenceCount,a.flateCount=e.flateCount,a.fleaveCount=e.fleaveCount,a.fattnCount=e.fattnCount)}})}},today:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate(),n=e.getDay();return{year:t,month:a,day:i,week:n}},click:function(e){var t="LI"==event.target.tagName&&event.target||event.target.parentNode;if("none"!=t.className){this.day=e;var a=this.year+"-"+(this.month+1<10&&"0"+(this.month+1)||this.month+1)+"-"+(e<10&&"0"+e||e);this.clickFun(a,this.fpersonId),this.active&&(this.active.className=""),this.active=t,t.className="active"}},chose:function(e){},statusCg:function(e){return 1==e&&"green"||2==e&&"red"||3==e&&"empty"},statusCalc:function(e){if(e){for(var t=[],a=e,i=0;i<a.length;i++)t[parseInt(a[i].fdate.split("-")[2])-1]=a[i].status;return t}},monthCut:function(){this.month>0?this.month--:(this.month=11,this.year--),this.days=this.monthView(this.year,this.month),this.active&&(this.active.className=""),this.statuPre={},this.monthChangeFun&&this.monthChangeFun(),this.req()},monthAdd:function(){return(this.year==this.yearNow&&this.month<this.monthNow||this.year<this.yearNow)&&(this.month<11?this.month++:(this.month=0,this.year++),this.days=this.monthView(this.year,this.month),this.active&&(this.active.className=""),this.statuPre={},this.monthChangeFun&&this.monthChangeFun(),this.req(),void 0)},monthView:function(e,t){this.statuPre=[];var a={prev:[],now:[],next:[]},i=[31,28,31,30,31,30,31,31,30,31,30,31];4*parseInt(this.yearNow/4)==this.yearNow&&(i[1]=29);for(var n=this.yearNow-e,s=12*n+this.monthNow-t,r=0,o=this.monthNow,l=this.yearNow,d=0;d<s;d++)o--,o<0&&(o=11,l--,4*parseInt(l/4)!=l?i[1]=28:i[1]=29),r+=i[o];var c=r-7*parseInt(r/7)+1;0==c&&(c=7);var u=this.firstDayWeek;if(e!=this.yearNow||e==this.year&&t!=this.monthNow)for(var h=c;h>1;h--)u--,u<0&&(u=6);var m=t-1;m<0&&(m=11);for(var f=1;f<u;f++)a.prev.push(i[m]-u+f);for(var p=1;p<=i[t];p++)a.now.push(p);for(var g=1;g<=42-a.now.length-a.prev.length;g++)a.next.push(g);return a}},computed:{late:function(){return 3},leaveEarly:function(){return 3},workNone:function(){return 3}},events:{"form-panel":function(e){"close"==e&&(this.$el.style.right="-390px")}}}),document.getElementById("iframe-ct")||(sessionStorage.ifUrl=location.href),$.datetimepicker.setLocale("ch");var common={};common.ajax=function(e,t,a,i,n,s,r){$.ajax({url:e,type:t,dataType:a,data:i,async:n,beforeSend:s,success:r,error:function(e){warnFull(jQuery.parseJSON(e.responseText).message)}})},function(e){var t=e.ajax;e.ajax=function(a){var i={error:function(e,t,a){}};a.error&&(i.error=a.error);var n=e.extend(a,{error:function(e,t,a,n){warnFull(jQuery.parseJSON(e.responseText).message,"red"),i.error(t,a,n)}});t(n)}}(jQuery);var warnFull=warnFullFun(),warnTop=warnTopFun();!function(){$("body").on("click",".lock-con .icon-lock",function(){$(this).removeClass("icon-lock").addClass("icon-unlock"),$(this).siblings(".btn").removeClass("btn-disabled").addClass("btn-stand").removeAttr("disabled")}),$("body").on("click",".lock-con .icon-unlock",function(){$(this).removeClass("icon-unlock").addClass("icon-lock"),$(this).siblings(".btn").removeClass("btn-stand").addClass("btn-disabled").attr("disabled","")})}(),function(){$("body").on("focus",".import-input",function(e){var t=$(this).parent().find(".magnify-input");if(0===t.length){var a=$(this).position().top-30,i=$("<p class='magnify-input' style='top:"+a+"px'></p>");$(this).after(i)}t.css("display","block")}),$("body").on("blur",".import-input",function(e){$(this).parent().find(".magnify-input").css("display","none")}),$("body").on("keyup",".import-input",function(e){var t=$(this).val(),a=[],i=$(this).attr("space");i||(i=4);for(var n=0;n<t.length/i;n++)a[n]=t.substring(i*n,i*(n+1));$(this).parent().find(".magnify-input").html(a.join(" "))}),$("body").on("keydown",".import-input",function(e){if($(this).attr("maxlength")&&$(this).val().length>$(this).attr("maxlength")&&e.keyCode>=48&&e.keyCode<=57)return!1})}();var scrollZtree=function(e,t){function a(){function a(){0==slcon.prop("scrollTop")?slt.css("display","none"):slcon.prop("scrollTop")>=slmain.height()-slcon.height()&&slb.css("display","none"),zt=1}var i,n,s=5;zt=1,btncon=$("#"+e),slt=$("#"+e+" .slt"),slb=$("#"+e+" .slb"),slbtn=$("#"+e+" .scrollbtn"),slcon=$("#"+t),slmain=slcon.children().eq(0),slt.mousedown(function(){var e;i=setInterval(function(){e=slcon.prop("scrollTop")-s,e>0?slcon.prop("scrollTop",e):(slcon.prop("scrollTop",0),slt.css("display","none"))},20)}),slb.mousedown(function(){var e;i=setInterval(function(){e=slcon.prop("scrollTop")+s,slcon.prop("scrollTop",e),slcon.prop("scrollTop")==e-s&&slb.css("display","none")},20)}),slt.mouseup(function(){clearInterval(i)}),slt.mouseout(function(){clearInterval(i)}),slb.mouseup(function(){clearInterval(i)}),slb.mouseout(function(){clearInterval(i)}),slcon.scroll(function(){zt&&slbtn.css("display","block"),clearTimeout(n),n=setTimeout(function(){a()},100),zt=0});var r=function(){slmain.height()<=slcon.height()?slbtn.css("display","none"):0==slcon.prop("scrollTop")?slb.css("display","block"):slbtn.css("display","block")};$(window).resize(function(){r()}),btncon.load(function(){r(),slt.css("display","none")}),btncon.click(function(){setTimeout(function(){r()},400)})}return a()};Vue.component("fold-list",{template:'<div class="fold-list">            <p class="fold-list-head">                <span></span>                <span v-for="item in head" >{{item.name}}</span>                <span>操作</span>            </p>            <div class="fold-list-main scroll-stand">                <ul v-bind:class="{\'role-open\':item.childrenList}" v-for="item in list" order={{$index}} >                    <fold-list-main :item="item" :head="head" :opera="opera" :mark="mark" :top-delete="topDelete"></fold-list-main>                </ul>            </div><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div>        </div>',props:["url","head","must","opera","itemClick","viewFun","mark","topDelete"],data:function(){return{list:"",fid:"",numCount:!0,lastActiveLi:""}},ready:function(){var e=this;e.url&&(e.$el.querySelector(".loding-con").style.display="block",$.ajax({url:e.url,type:"GET",dataType:"JSON",success:function(t){e.list=t,e.$el.querySelector(".loding-con").style.display="none"},error:function(){e.$el.querySelector(".loding-con")&&(e.$el.querySelector(".loding-con").style.display="none")}})),this.$el.addEventListener("click",function(t){var a,i;if("A"==t.target.tagName){if(a=t.target.parentNode.parentNode.getAttribute("fid"),e.fid=a,i=e.searchData(e.list,a),"查看"==t.target.innerHTML)e.viewFun(i);else for(var n=0;n<e.opera.length;n++)t.target.innerHTML==e.opera[n].name&&e.opera[n].operaFun(i);e.active(t)}else"SPAN"==t.target.tagName&&t.target!=t.target.parentNode.getElementsByTagName("span")[0]&&(a=t.target.parentNode.getAttribute("fid"),e.fid=a,i=e.searchData(e.list,a),"LI"==t.target.parentNode.tagName&&e.itemClick&&e.itemClick(i),e.active(t))},!1)},methods:{findParent:function(e,t){for(var a=e,i=0;a.tagName!=t&&i<10;)a=a.parentNode,i++;return a},active:function(e){var t=this.findParent(e.target,"LI");self.lastActiveLi&&(self.lastActiveLi.className=""),t.className="active",self.lastActiveLi=t},setData:function(e,t){this.list=e,this.$el.querySelector(".loding-con").style.display="none"},searchData:function(e,t){var a,i=!1,n=null,s=0;return a=this.mark?function(e,t){if(s++,s<10)for(var r=0;r<e.length;r++){if(t==e[r][this.mark])return over=e[r],i=!0,void(n=e[r]);if(e[r].childrenList.length>0&&a(e[r].childrenList,t),i)return}s--}:function(e,t){if(s++,s<10)for(var r=0;r<e.length;r++){if(t==e[r].fid)return over=e[r],i=!0,void(n=e[r]);if(e[r].childrenList.length>0&&a(e[r].childrenList,t),i)return}s--},a(e,t),n},refresh:function(){var e=this;e.url&&$.ajax({url:e.url,type:"GET",dataType:"JSON",success:function(t){e.list=t}})}}}),Vue.component("fold-list-main",{template:'<li fid={{item.fid}}>            <span v-on:click.stop="switch">                <a href="javascript:;" class="switchul" v-on:click.stop="switch"><i class="icon-angle-right"></i></a>            </span><template v-for="headItem in head"><template v-if="typeof headItem.getter == \'undefined\'"><span>{{item[headItem.field]}}</span></template><template v-else><span>{{headItem.getter(item[headItem.field])}}</span></template></template>            <span fid="{{item.fid}}"><a href="javascript:;">查看</a><template v-if="topDelete"><template v-for="item2 in opera"><i class="vertical"></i><a href="javascript:;" >{{item2.name}}</a></template></template>            </span>        </li>        <li v-for="item2 in item.childrenList"  fid={{item2.fid}}>            <template v-if="item2.childrenList.length>0">                <ul v-bind:class="{\'role-open\':true}" order={{$index}}>                    <fold-list-main :item="item2" :head="head" :opera="opera" :mark="mark" :top-delete="true"></fold-list-main>                </ul>            </template>            <template v-else>                <span>                </span>                <span v-for="headItem in head">{{item2[headItem.field]}}</span>                <span><a href="javascript:;">查看</a><template v-for="item2 in opera"><i class="vertical"></i><a href="javascript:;" >{{item2.name}}</a></template>                </span>            </template>        </li>',props:["item","head","opera","mark","topDelete"],data:function(){return{}},methods:{findParent:function(e,t){for(var a=e,i=0;a.tagName!=t&&i<10;)a=a.parentNode,i++;return a},switch:function(e){var t=this.findParent(e.target,"UL"),a=t.getElementsByTagName("li");"role-open"==t.className?(t.className="role-close",t.style.height=a[0].offsetHeight+"px"):"role-close"==t.className&&(t.className="role-open",t.style.height="auto")}}}),Vue.component("form-panel",{template:'<div class="content-right"><div class="class-cr clearfix"><a class="item-btn hover"><i class="icon-pencil"></i><span class="operName1">{{opeType==\'add\'&&\'新增\'||opeType==\'edit\'&&\'编辑\'||opeType==\'view\'&&\'查看\'||\' \'}}</span></a><p class="item-list2"><a href="javascript:;" class="item-btn item-btn1" v-on:click="saveMess()" v-show="opeType!=\'view\'"><i class=" icon-ok"></i></a><a href="javascript:;" class="item-btn item-btn2" v-on:click="close()"><i class=" icon-remove"></i></a></p></div><div class="content-con"><div class="title-list-fold"><template v-if="form.title"><p class="title-switch"><span>{{form.title}}</span></p></template><template v-for="item in form.data"><template v-if="!item.select"><div class="form-group"><label>{{item.name}}</label><input type="text" class="form-control" v-model="formData[item.field]" data-val="formData[item.dataField]" required v-bind:readonly="item.readonly==true&&readAdd||readonly" v-on:click="item.operaFun&&inputOpera(item.operaFun)"></div></template><template v-else><div class="form-group"><label>{{item.name}}</label><select-stand :info-type="item.select.infoTypes" :type="item.select.types" :readonly="readonly" :auto-chose="item.field" :localdata="item.select.localdata" :url="item.select.url" :after-chose="item.select.afterChose" :before-chose="item.select.beforeChose" :custom-field="item.select.customField" :spread-event="item.select.spreadEvent" :paras="item.select.paras" :link-field="item.select.linkField"></select-stand></div></template></template><template v-if="statusForm.title"><p class="title-switch"><span>{{statusForm.title}}</span></p></template><template v-for="item in statusForm.data"><div class="form-group"><label>{{item.name}}</label><input type="text" class="form-control" v-model="formData[item.field]" required v-bind:readonly= \'true\' ></div></template><template v-if="passWordOpera.title"><p class="title-switch" href="javascript:;"><span>{{passWordOpera.title}}</span></p></template><template v-for="item in passWordOpera.data"><p class="lock-con"><i class="icon-lock"></i><button v-on:click="item.operaFun()" class="btn btn-disabled" disabled>{{item.name}}</button></p></template></div><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div></div></div>',props:["saveUrl","reqUrl","form","statusForm","passWordOpera","refresh","saveFun","openFun","closeFun","afterSaveFun"],data:function(){return{opeType:"",opeFid:"",num:0,statu:"",formData:"",selectGroup:[]}},ready:function(){for(var e=this.form.data,t=0;t<e.length;t++)e[t].select&&this.selectGroup.push(t)},methods:{open:function(e){this.$el.style.right="0px",this.opeType=e,this.statu="open","add"==e&&this.$broadcast("formAdd"),this.openFun&&this.openFun()},close:function(){this.$el.style.right="-390px",this.$parent.$broadcast("form-panel","close"),this.statu="close",this.opeType="",this.opeFid="",this.closeFun&&this.closeFun()},req:function(e,t){this.num++;var a=this.num,i=this;this.$el.getElementsByClassName("loding-con")[0].style.display="block",this.open(t),$.ajax({url:i.reqUrl,type:"GET",cache:!1,dataType:"JSON",data:{fid:e},success:function(t){a==i.num&&(i.formData=t,i.opeFid=e,i.$broadcast("formDataReady",t),i.$el.getElementsByClassName("loding-con")[0].style.display="none")},error:function(){i.$el.querySelector(".loding-con")&&(i.$el.querySelector(".loding-con").style.display="none")}})},saveMess:function(){for(var e=this,t=0;t<e.selectGroup.length;t++)this.formData[this.form.data[this.selectGroup[t]].field]=e.$children[t].val();this.saveFun?(this.saveFun(),this.afterSaveFun&&this.afterSaveFun()):"add"==this.opeType||"edit"==this.opeType?$.ajax({url:e.saveUrl,type:"GET",cache:!1,dataType:"JSON",data:e.formData,success:function(t){e.close(),warnTop("保存成功！"),e.afterSaveFun&&e.afterSaveFun()},error:function(){e.$el.querySelector(".loding-con")&&(e.$el.querySelector(".loding-con").style.display="none")}}):e.close()},inputOpera:function(e){this.readonly||e()}},computed:{readonly:function(){return"view"==this.opeType&&!0||!1},readAdd:function(){return"add"!=this.opeType&&!0||!1}},events:{"ztree-panel":function(e){"open"==this.statu&&("open"==e?this.$el.style.right="340px":"close"==e&&(this.$el.style.right="0px"))}}}),Vue.component("form-panel-pro",{template:'<div :class="[\'content-right\',twoColumn&&\'content-right-wider\',opeType==\'view\'&&\'content-view\']" ><div class="class-cr clearfix"><slot name="title"><a class="item-btn hover"><i class="icon-pencil"></i><span class="operName1">{{autoTitle}}</span></a><p class="item-list2"><template v-if="customOpera"><template v-for="item in customOpera"><a href="javascript:;" class="item-btn"  v-on:click="item.operaFun()">{{item.name}}</a></template><a href="javascript:;" class="item-btn item-btn2" v-on:click="close()"><i class="icon-remove"></i>关闭</a></template><template v-else><a href="javascript:;" class="item-btn item-btn1" v-on:click="saveMess()" v-show="opeType!=\'view\'"><i class=" icon-ok"></i>保存</a><a href="javascript:;" class="item-btn item-btn2" v-on:click="close()"><i class="icon-remove"></i>关闭</a></template></p></slot></div><div class="content-con"><form v-el:form><div class="form-block"><template v-if="form.title"><p class="title-switch"><span>{{form.title}}</span></p></template><template v-for="item in form.data"><template v-if="item.type==\'text\'||item.type==\'number\'||item.type==\'file\'||item.type==\'password\'||item.type==\'email\'">            <div :class="[\'form-group\',item.validate&&item.validate.required&&\'required\',item.operaFun&&\'specialOpera\',item.roasnm&&\'roasnm\']">                <label>{{item.name}}{{item.ps}}</label>                <input type="{{item.type}}"  id="{{item.id}}" name="{{item.field}}" :class="[\'form-control\']" accept="{{item.accept}}" checked="{{item.checked}}" v-model="formData[item.field]" max="{{item.max}}" min="{{item.min}}" maxlength="{{item.maxlength}}" multiple="{{item.multiple}}" v-bind:readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" v-on:click="item.operaFun&&inputOpera(item.operaFun)">            </div>        </template>        <template v-if="item.type==\'date\'"><div :class=[\'form-group\',\'roasnm\',\'form-group-date\',item.validate&&item.validate.required&&\'required\']><label>{{item.name}}</label>                <input type="text"  id="{{item.id}}" :readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" class="form-control" name="{{item.field}}"  v-model="formData[item.field]"></div>        </template>        <template v-if="item.type==\'radio\'">            <div :class="[\'form-group\',\'form-group-long\',item.validate&&item.validate.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.radio">                    <span class="form-chose">                        <input type="radio" name="{{item.field}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]" :disabled="item2.disabled==true&&readAdd||item2.disabled==\'ever\'&&true||disabled">                        <label for="{{item2.id}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'checkbox\'">            <div :class="[\'form-group\',\'form-group-long\',item.validate&&item.validate.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.checkbox">                    <span class="form-chose">                        <input type="checkbox" name="{{item.field}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]"  :disabled="item2.disabled==true&&readAdd||item2.disabled==\'ever\'&&true||disabled">                        <label for="{{item2.id}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'select\'"><div :class="[\'form-group\',item.validate&&item.validate.required&&\'required\']"><label>{{item.name}}</label><select-stand :id="item.id" :name="item.field" :info-type="item.select.infoTypes" :type="item.select.type" :readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" :auto-chose="item.field" :auto-chose-cn="item.select.fieldCn" :localdata="item.select.localdata" :url="item.select.url" :after-chose="item.select.afterChose" :before-chose="item.select.beforeChose" :custom-field="item.select.customField" :spread-event="item.select.spreadEvent" :paras="item.select.paras" :link-field="item.select.linkField"></select-stand></div>        </template>        <template v-if="item.type==\'textarea\'">            <div :class="[\'form-group\',\'form-group-long\',item.validate&&item.validate.required&&\'required\']">                <label>{{item.name}}</label>                <textarea class="form-control" :id="item.id" :name="item.field" :cols="item.col" :rows="item.row" v-model="formData[item.field]" v-on:click="item.operaFun&&inputOpera(item.operaFun)" :readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly"></textarea>            </div>        </template>        <template v-if="item.type==\'image\'">            <div :class="[\'form-group\',\'form-group-long\']">                <label>{{item.name}}</label>                <img src="{{formData[item.field]}}" width="{{item.image.width}}">            </div>        </template>        <template v-if="item.type==\'button\'">            <div class="form-group form-group-long">                <label>{{item.name}}</label>                <template v-for="item2 in item.button">                    <a href="javascript:void(0);" v-on:click="item2.operaFun()" :class="[\'btn\',\'btn-stand\',item2.className||\'\']" :disabled="item2.disabled"  :id="item2.id">{{item2.name}}</a>                       </template>            </div>        </template></template><template v-if="statusForm.title"><p class="title-switch"><span>{{statusForm.title}}</span></p><template v-for="item in statusForm.data"><div class="form-group"><label>{{item.name}}</label><input type="text" class="form-control" v-model="formData[item.field]" required v-bind:readonly= \'true\' ></div></template></template><template v-if="passWordOpera.title"><p class="title-switch" href="javascript:;"><span>{{passWordOpera.title}}</span></p><template v-for="item in passWordOpera.data"><p class="lock-con"><i class="icon-lock"></i><button v-on:click="item.operaFun()" class="btn btn-disabled" disabled>{{item.name}}</button></p></template></template></div></form><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div></div></div>',
props:["saveUrl","reqUrl","form","statusForm","passWordOpera","refresh","saveFun","openFun","closeFun","twoColumn","formSubmit","customOpera","dataReady","beforeSave"],data:function(){return{opeType:"",opeFid:"",num:0,statu:"",formData:{},ready:"",selectGroup:[],width:300,vali:""}},ready:function(){this.valiSet={debug:!0,onsubmit:!1,onkeyup:!1,errorElement:"p",errorClass:"form-wrong",rules:{}};for(var e=this.form.data,t={},a=0;a<e.length;a++)"select"==e[a].type?this.selectGroup.push(a):"date"==e[a].type&&(e[a].id||console.log("date组件需要配置id"),t=e[a].date,t.scrollInput=!1,$("#"+e[a].id).datetimepicker(e[a].date)),e[a].validate&&(this.valiSet.rules[e[a].field]=e[a].validate),e[a].customValidate&&e[a].customValidate();this.twoColumn&&(this.width=550,this.$el.style.width=this.width+"px"),this.validateFun=$(this.$el.querySelector("form")).validate(this.valiSet)},methods:{processEmptyField:function(e){for(var t=this.form.data,a=0;a<t.length;a++)(e||null==this.formData[t[a].field]||void 0==this.formData[t[a].field])&&("checkbox"!=t[a].type?(Vue.set(this.formData,t[a].field,""),t[a].dataField&&Vue.set(this.formData,t[a].dataField,"")):Vue.set(this.formData,t[a].field,[]))},open:function(e){this.$el.style.right="0px",void 0==e&&(e="add"),this.statu="open",this.opeType=e,"add"==e&&(this.$broadcast("formAdd"),this.processEmptyField(!0)),this.openFun&&this.openFun()},close:function(){this.loding(0),this.$el.style.right=-this.width+"px",this.$parent.$broadcast("form-panel","close"),this.statu="close",this.opeType="",this.opeFid="",this.validateFun.resetForm(),this.closeFun&&this.closeFun()},req:function(e,t){this.ready=!1,this.num++;var a=this.num,i=this;this.loding(1),this.open(t),$.ajax({url:i.reqUrl,type:"GET",cache:!1,dataType:"JSON",data:{fid:e},success:function(t){if(a==i.num){i.formData=t,i.opeFid=e,i.$broadcast("formDataReady",t);i.form.data;i.checkbox(),i.loding(0),i.ready=!0,i.processEmptyField(),i.dataReady&&i.dataReady(t)}},error:function(){i.loding(0)}})},blur:function(e,t){},checkbox:function(e,t){var a=this.form.data;if("start"==e||null==e||void 0==e)for(var i=0;i<a.length;i++)"checkbox"==a[i].type&&(this.formData[a[i].field]=this.formData[a[i].field].split(","));else if("end"==e)for(var i=0;i<a.length;i++)"checkbox"==a[i].type&&(t[a[i].field]=t[a[i].field].join(","))},valid:function(){if(!$(this.$el.querySelector("form")).valid())return!1},clone:function(e){return JSON.parse(JSON.stringify(e))},getFormData:function(){for(var e=0;e<this.selectGroup.length;e++)this.formData[this.form.data[this.selectGroup[e]].field]=this.$children[e].val();var t=this.clone(this.formData);for(var a in t)t[a]=htmlEncode(t[a]);return this.checkbox("end",t),t},saveMess:function(){if("edit"!=this.opeType||this.ready){if(!this.validateFun.form())return!1;for(var e=this,t=0;t<e.selectGroup.length;t++)this.formData[this.form.data[this.selectGroup[t]].field]=e.$children[t].val();var a=this.clone(this.formData);for(var i in a)a[i]=htmlEncode(a[i]);if(this.checkbox("end",a),this.saveFun)this.saveFun();else if("add"==this.opeType||"edit"==this.opeType){if(!this.formSubmit,!e.saveUrl)return;e.beforeSave&&(a=e.beforeSave(a)),$.ajax({url:e.saveUrl,type:"GET",cache:!1,dataType:"JSON",data:a,success:function(t){e.close(),warnTop("保存成功！"),e.afterSaveFun&&e.afterSaveFun()},error:function(){e.loding(0)}})}else e.close()}},inputOpera:function(e){this.readonly||e()},loding:function(e){e?this.$el.querySelector(".loding-con").style.display="block":this.$el.querySelector(".loding-con").style.display="none"}},computed:{readonly:function(){return"view"==this.opeType&&!0||!1},readAdd:function(){return"add"!=this.opeType&&!0||!1},autoTitle:function(){return"add"==this.opeType&&"新增"||"edit"==this.opeType&&"编辑"||"view"==this.opeType&&"查看"||" "}},events:{"ztree-panel":function(e){"open"==this.statu&&("open"==e?this.$el.style.right="340px":"close"==e&&(this.$el.style.right="0px"))}}}),Vue.component("head-opera",{template:'<p class="item-list"><template v-for="item in items"><template v-if="!item.right"><template v-if="!item.authUrl||item.authUrl&&authVeri(item.authUrl)"><a href="javascript:;" class="item-btn item-btn1" v-on:click="operafun($index)" :disabled="item.disabled==null"><i class="{{icons[$index]}}"></i>{{item.name}}</a><template v-if="$index!=items.length"><span class="vertical"></span></template></template></template><template v-else><template v-if="!item.authUrl||item.authUrl&&authVeri(item.authUrl)"><a href="javascript:;" class="item-btn item-btn1 item-btn-right" v-on:click="operafun($index)" :disabled="item.disabled==null"><i class="{{icons[$index]}}"></i>{{item.name}}</a><template v-if="$index!=items.length"><span class="vertical vertical-right"></span></template></template></template></template></p>',props:["items","rightItems"],data:function(){return{icons:[],auth:[]}},ready:function(){for(var e=[{name:"保存",icon:"icon-save"},{name:"门店合同",icon:"icon-file-alt"},{name:"装修",icon:"icon-magic"},{name:"图片",icon:"icon-picture"},{name:"查看",icon:"icon-eye-open"},{name:"导出",icon:"icon-download-alt"},{name:"下载",icon:"icon-download-alt"},{name:"导入",icon:"icon-upload-alt"},{name:"新增",icon:"icon-plus"},{name:"删除",icon:"icon-minus"},{name:"编辑",icon:"icon-pencil"},{name:"同步",icon:"icon-exchange"},{name:"不显示",icon:"icon-eye-close"},{name:"显示",icon:"icon-eye-open"},{name:"启用",icon:"icon-ok"},{name:"禁用",icon:"icon-remove"}],t=[],a=0;a<this.items.length;a++)for(var i=0;i<e.length;i++){if(this.items[a].name.indexOf(e[i].name)!=-1){t.push(e[i].icon);break}i==e.length-1&&t.push("")}this.icons=t},methods:{operafun:function(e){this.items[e].operaFun()},operafunRight:function(e){this.rightItems[e].operaFun()},authVeri:function(e){var t=JSON.parse(sessionStorage.authData);if(!t)return!1;for(var a=0;a<t.length;a++)if(e==t[a])return!0;return!1}},computed:{}}),Vue.component("head-search",{template:'<div class="item-search"><form><template v-for="item in form"><template v-if="item.type==\'text\'||item.type==\'number\'||item.type==\'file\'||item.type==\'password\'">            <div :class="[\'form-group\',item.required&&\'required\']">                <label>{{item.name}}</label>                <input type="{{item.type}}" id="{{item.id}}" name="{{item.field}}" class="form-control" accept="{{item.accept}}" checked="{{item.checked}}" v-model="formData[item.field]" max="{{item.max}}" min="{{item.min}}" maxlength="{{item.maxlength}}"  maxlength="item.id" multiple="{{item.multiple}}" v-on:click="item.operaFun&&inputOpera(item.operaFun)" >            </div>        </template>        <template v-if="item.type==\'date\'"><div :class=[\'form-group\',\'form-group-date\',item.required&&\'required\']><label>{{item.name}}</label>                <input type="text"  id="{{item.id}}" name="{{item.field}}" lazy class="form-control"  v-model="formData[item.field]" ></div>        </template>        <template v-if="item.type==\'radio\'">            <div :class="[\'form-group\',\'form-group-long\',item.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.radio">                    <span class="form-chose">                        <input type="radio" name="{{item2.field}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]">                        <label for="{{item2.field}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'checkbox\'">            <div :class="[\'form-group\',\'form-group-long\',item.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.checkbox">                    <span class="form-chose">                        <input type="checkbox" name="{{item2.id}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]" :disabled="item2.disabled">                        <label for="{{item2.id}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'select\'"><div :class="[\'form-group\',item.required&&\'required\']"><label>{{item.name}}</label><select-stand :info-type="item.select.infoTypes" :type="item.select.types" :readonly="readonly" :auto-chose="item.field" :localdata="item.select.localdata" :url="item.select.url" :after-chose="item.select.afterChose" :before-chose="item.select.beforeChose" :custom-field="item.select.customField" :spread-event="item.select.spreadEvent" :paras="item.select.paras" :link-field="item.select.linkField"></select-stand></div>        </template></template><form><br><a href="javascript:;" class="btn btn-search" v-on:click="search">查询</a><a href="javascript:;" class="btn btn-undo" v-on:click="revoke"><i class="icon-undo"></i><span>撤销</span></a></div>',props:["form","searchFun","revokeFun","readyFun"],data:function(){return{formData:{},selectGroup:[]}},ready:function(){if(this.form)for(var e=0;e<this.form.length;e++)this.form[e].defaultValue?Vue.set(this.formData,this.form[e].field,this.form[e].defaultValue):Vue.set(this.formData,this.form[e].field,""),"select"==this.form[e].type?this.selectGroup.push(e):"date"==this.form[e].type&&$("#"+this.form[e].id).datetimepicker(this.form[e].date);this.readyFun&&this.readyFun()},methods:{blur:function(){},search:function(){this.getFormData(),this.searchFun&&this.searchFun(this.formData)},getFormData:function(){for(var e=this.$el.querySelector("form"),t=(new FormData(e),0);t<this.selectGroup.length;t++)this.formData[this.form[this.selectGroup[t]].field]=this.$children[t].val();for(m in this.formData)this.formData[m]=htmlEncode(this.formData[m]);return this.formData},revoke:function(){for(var e=this.$el.querySelectorAll("input"),t=0;t<e.length;t++)e[t].value="";this.$children;for(var a in this.formData)this.formData[a]="";this.$broadcast("clear"),this.revokeFun&&this.revokeFun()},advanced:function(){}}});var urls={list:"json/list11.json",search:""},content=new Vue({el:"#content-list",data:function(){return{search:{form:[{name:"年月",type:"date",field:"ct1",id:"date5",date:{step:5,format:"Y-m-d",timepicker:!1}},{name:"工号",type:"text",field:"ct2"},{name:"姓名",type:"text",field:"ct3"}],serachFun:function(e){content.$refs.table1.setSearch(e)},revokeFun:function(){content.$refs.table1.clearSearch()}},table:{list:"",thead:[{name:"单据编码",field:"fuserName",width:"200"},{name:"工号",field:"fpersonnelCode",width:"200"},{name:"姓名",field:"fpersonnelName",width:"200"},{name:"正常出勤（天）",field:"fnuber",width:"200"},{name:"请假（小时）",field:"fnuber",width:"200"},{name:"缺勤（天）",field:"fnuber",width:"200"},{name:"迟到早退（次）",field:"fnuber",width:"200"}],skipNum:"",must:{pageSize:15,currentPage:1},search:"",url:urls.list}}}});Vue.component("menu-ztree",{template:'<div class="content-left" id ="content-left"><p href="#" class="scrollbtn slt" style="display:none"><i class="icon-sort-up"></i></p><p href="#" class="scrollbtn slb" style="display:none"><i class="icon-sort-down"></i></p><div class="scroll" id="ztree-scroll"><div class="ztree" id="{{treeId}}"></div></div></div>',props:["ztreeSet","treeId"],ready:function(){this.ztreeSet;$.fn.zTree.init($("#"+this.treeId),this.ztreeSet),scrollZtree("content-left","ztree-scroll"),this.$parent&&this.$parent.$el.querySelector(".content-list")&&(this.$parent.$el.querySelector(".content-list").style.left="170px")},methods:{}});var ordinListVue=Vue.component("ordin-list",{template:'<div class="fold-list ordin-list"><table class="table-stand table-stand-head"><thead><tr><template v-if="columnHead"><th width="{{columnHead.width}}"></th></template><template v-if="serialNum"><th width="40"></th></template><th v-for="item in head"  width="{{item.width}}">{{item.name}}</th><th v-if=\'viewFun\'>操作</th></tr></thead></table><div class="fold-list-main scroll-stand"><table class="table-stand"><thead><tr><template v-if="columnHead"><th width="{{columnHead.width}}"></th></template><template v-if="serialNum"><th width="40"></th></template><th v-for="item in head"  width="{{item.width}}"></th><th v-if=\'viewFun\'></th></tr></thead><tbody><template v-if="!columnHead"><tr v-for="item in list" fid="{{mark&&item[mark]||item.fid}}"><template v-if="serialNum"><td>{{($index+1)}}</td></template><template v-for="headItem in head"><template v-if="typeof headItem.getter == \'undefined\'"><td title={{item[headItem.field]}}>{{item[headItem.field]}}</td></template><template v-else><td>{{headItem.getter(item[headItem.field])}}</td></template></template><td fid="{{item.fid}}" v-if=\'viewFun\'><a href="javascript:;">查看</a><template v-for="item2 in opera"><i class="vertical"></i><a href="javascript:;" >{{item2.name}}</a></template></td></tr></template><template v-else><tr v-for="item2 in columnHead.name" fid="{{$index}}"><td>{{item2}}</td><template v-for="headItem in head"><template v-if="typeof headItem.getter == \'undefined\'"><td title={{list[headItem.field[$parent.$index]]}}>{{list[headItem.field[$parent.$index]]}}</td></template><template v-else><td>{{headItem.getter(list[headItem.field[$parent.$index]],headItem.field[$parent.$index])}}</td></template></template><td fid="{{list[$index].fid}}" v-if=\'viewFun\'><a href="javascript:;">查看</a><template v-for="item2 in opera"><i class="vertical"></i><a href="javascript:;" >{{item2.name}}</a></template></td></tr></template></tbody></table></div><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div></div>',props:["url","head","must","opera","itemClick","viewFun","mark","columnHead","serialNum"],data:function(){return{list:{},fid:"",numCount:0}},ready:function(){var e=this;e.url&&(e.$el.querySelector(".loding-con").style.display="block",$.ajax({url:e.url,type:"GET",dataType:"JSON",success:function(t){e.list=t,e.$el.querySelector(".loding-con").style.display="none"},error:function(){e.$el.querySelector(".loding-con")&&(e.$el.querySelector(".loding-con").style.display="none")}})),this.$el.addEventListener("click",function(t){var a,i;if("A"==t.target.tagName)if(a=t.target.parentNode.parentNode.getAttribute("fid"),e.fid=a,i=e.searchData(e.list,a),"查看"==t.target.innerHTML)e.viewFun&&e.viewFun(i);else for(var n=0;n<e.opera.length;n++)t.target.innerHTML==e.opera[n].name&&e.opera[n].operaFun(i);else{if("TD"!=t.target.tagName)return;a=t.target.parentNode.getAttribute("fid"),e.fid=a,e.columnHead?"TR"==t.target.parentNode.tagName&&(e.numCount++,e.itemClick&&e.itemClick(a,e.list)):(i=e.searchData(e.list,a),"TR"==t.target.parentNode.tagName&&(e.numCount++,e.itemClick&&e.itemClick(i)))}for(var s=e.$el.getElementsByTagName("TR"),n=0;n<s.length;n++)s[n].className="";e.findParent(t.target,"TR").className="active"},!1)},methods:{clearData:function(){this.fid="",this.list={}},findParent:function(e,t){for(var a=e,i=0;a.tagName!=t&&i<10;)a=a.parentNode,i++;return a},setData:function(e){this.list=e,this.$el.querySelector(".loding-con").style.display="none"},searchData:function(e,t){if(this.mark){for(var a=0;a<e.length;a++)if(t==e[a][this.mark])return e[a]}else for(var a=0;a<e.length;a++)if(t==e[a].fid)return e[a]},loding:function(e){e?this.$el.querySelector(".loding-con").style.display="block":this.$el.querySelector(".loding-con").style.display="none"},refresh:function(){var e=this;e.url&&(this.loding(1),$.ajax({url:e.url,type:"GET",dataType:"JSON",success:function(t){e.list=t,this.loding()},error:function(){e.$el.querySelector(".loding-con")&&this.loding()}}))}}});Vue.component("role-pop",{template:'<ul v-bind:class="{\'role-open\':item.childrenList}" v-for="item in items" order={{$index}}><li fid={{item.fid}}><span v-on:click.stop="switch" v-bind:style="{paddingLeft: pl + \'px\'}"><template v-if="item.childrenList.length>0"><a href="javascript:;" class="switchul"><i class="icon-angle-right"></i></a></template></span><span v-bind:style="{paddingLeft: pl + \'px\'}"><input type="checkbox" id="{{\'cb\'+item.fid}}" fid={{item.fid}} namerole={{item.froleName}} v-bind:checked="item.checked"/><label for="{{\'cb\'+item.fid}}">{{item.froleName}}</label></span></li><template v-if="item.childrenList.length>0"><li><role-pop :items=" item.childrenList" :padding="padding+1"></role-pop></li></template></ul>',props:["items","padding"],methods:{findParent:function(e,t){for(var a=e,i=0;a.tagName!=t&&i<10;)a=a.parentNode,i++;return a},switch:function(e){var t=this.findParent(e.target,"UL"),a=t.getElementsByTagName("li");"role-open"==t.className?(t.className="role-close",t.style.height=a[0].offsetHeight+"px"):"role-close"==t.className&&(t.className="role-open",t.style.height="auto")},val:function(){}},computed:{pl:{get:function(){return 13*this.padding}}}});var popVue=Vue.component("pop",{template:'<div><div class="ros-pop" style="display:none;"><p class="pop-title">{{title}}<span class="item-list2"><template v-if="saveFun"><a href="javascript:;" class="item-btn item-btn1" v-on:click="save()"><i class=" icon-ok"></i>保存</a></template><a href="javascript:;" class="item-btn item-btn2" v-on:click="close()"><i class=" icon-remove"></i>关闭</a></span></p><div class="pop-con"><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div><slot><div class="role-pop"><role-pop :items="items" :padding="0"></role-pop></div></slot></div></div><div class="shade"></div></div>',props:["title","url","saveFun","customScreen","width","height","closeFun"],data:function(){return{items:"",statu:"close",init:!1,source:""}},ready:function(){var e=this;if(this.customScreen){this.$el.querySelector(".ros-pop").className="ros-pop custom-screen-pop";var t=document.documentElement.clientWidth,a=document.documentElement.clientHeight;t=t>this.width?this.width:t,a=a>this.height?this.height:a,this.$el.querySelector(".ros-pop").style.cssText="display:none;position:absolute;width: "+t+"px;height:"+a+"px;margin: 0;",window.addEventListener("resize",function(){t=document.documentElement.clientWidth,a=document.documentElement.clientHeight,t=t>e.width?e.width:t,a=a>e.height?e.height:a,e.$el.querySelector(".ros-pop").style.width=t+"px",e.$el.querySelector(".ros-pop").style.height=a+"px"},!1)}this.url&&(e.$el.querySelector(".loding-con").style.display="block",$.ajax({url:e.url,type:"GET",cache:!1,dataType:"JSON",success:function(t){e.items=t,e.$el.querySelector(".loding-con").style.display="none"},error:function(){e.$el.querySelector(".loding-con").style.display="none"}}))},methods:{open:function(){this.init||(this.init=!0),this.$el.querySelector(".ros-pop").style.display="block",this.$el.querySelector(".shade").style.display="block",this.statu="open"},close:function(){this.$el.querySelector(".ros-pop").style.display="none",this.statu="close",this.$el.querySelector(".shade").style.display="none",this.source="",this.closeFun&&this.closeFun()},check:function(e){if(e){var t=this.$el.querySelector(".pop-con").getElementsByTagName("input"),a="",i=0,n=e.split(",");if(n){for(var s=0;s<t.length;s++)for(a=t[s].getAttribute("fid"),t[s].checked=!1,i=0;i<n.length;i++)if(a==n[i]){t[s].checked=!0;break}}else for(var s=0;s<t.length;s++)a=t[s].getAttribute("fid"),t[s].checked=!1}this.open()},save:function(){for(var e=this.$el.querySelector(".ros-pop").getElementsByTagName("input"),t=[],a=[],i=0;i<e.length;i++)e[i].checked&&(t.push(e[i].getAttribute("fid")),a.push(e[i].getAttribute("namerole")));this.saveFun(a.join(","),t.join(",")),this.close()}}});Vue.component("select-search",{template:'<div class="select-group"><div v-bind:class="{\'select-stand\':true,\'select-stand-readonly\': readonly}"><div class="btn-select dropdown-toggle" data-toggle="dropdown" v-on:click="toggle"><input type="text" class="select-value" data-val={{chosePre.fval}} name="{{autoChose}}" id="{{id}}" v-model="chosePre.fcn" readonly ><span class="caret"></span></div><template v-if="type!=\'search\'"><div class="dropdown-menu scroll-stand" style="display:none"><template v-if="type==\'single\'"><ul><li data-val="" ><label v-on:click="chose($event)">...</label></li><li v-for="item in list"  data-val={{item[customField.val]}} ><label v-on:click="chose($event)">{{item[customField.cn]}}</label></li></ul></template><template v-if="type==\'multi\'"><ul><li v-for="item in list" v-on:click="chose($event)" data-val={{item[customField.val]}} ><input type="checkbox" id=\'multi{{$index}}\'/><label for=\'multi{{$index}}\'>{{item[customField.cn]}}</label></li></ul></template></div></template><template v-else><div class="dropdown-menu dropdown-menu-search scroll-stand " style="display:block"><head-search :form="search.form" :search-fun="searchFun" :revoke-fun="revokeFun"></head-search><div class="table-con"><p class="select-table-title">请点击选择：<template v-for="item in multiCn"><span> {{item}} <a href="javascript:void(0);" @click="deleteChose($index)" class="icon-remove"></a></span></template></p><table-stand :list="table.list" :thead="table.thead" :must="table.must" :url="table.url" :click-fun="clickFun"></table-stand></div></div></template></div></div>',props:["position","search","table","infoType","type","id","readonly","localdata","auth","url","autoChose","autoChoseCn","afterChose","beforeChose","spreadEvent","customField","paras","linkage"],data:function(){return{list:"",chosePre:{fval:"",fcn:""},willChose:"",islistReady:!1,multi:[],multiCn:[],searchFun:function(e){var t=this.$parent;t.$children[1].setSearch(e),t.$children[1].refresh()},revokeFun:function(){this.$parent.$children[1].clearSearch()},clickFun:function(e){for(var t=this.$parent,a=0;a<t.multi.length;a++)if(t.multi[a]==e[t.customField.val])return!1;t.multi.push(e[t.customField.val]),t.multiCn.push(e[t.customField.cn]),t.chosePre.fval=t.multi.join(","),t.chosePre.fcn=t.multiCn.join(",")}}},ready:function(){var e=this;this.type||(this.type="single"),this.customField||(this.customField={val:"fcodeKey",cn:"fcodeValue_cn"}),this.localdata?this.list=this.localdata:this.infoType?(e.auth||(e.auth=!1),this.url||(this.url="/dictItem/list.json"),$.ajax({url:e.url,type:"GET",dataType:"json",data:{fcode:e.infoType,auth:e.auth},success:function(t){e.list=t,e.islistReady=!0,e.willChose&&(e.choseSome(e.willChose),e.willChose="")}})):this.url&&!this.linkage&&e.req(e.paras)},methods:{deleteChose:function(e){this.multi.splice(e,1),this.multiCn.splice(e,1),this.chosePre.fval=this.multi.join(","),this.chosePre.fcn=this.multiCn.join(",")},clear:function(){this.list=[],this.chosePre={fval:"",fcn:""}},setData:function(e){this.list=e,this.islistReady=!0,self.willChose&&(self.choseSome(self.willChose),self.willChose="")},req:function(e){var t=this;$.ajax({url:t.url,type:"GET",dataType:"json",data:e,success:function(e){t.list=e,t.islistReady=!0,t.willChose&&(t.choseSome(t.willChose),t.willChose="")}})},searchData:function(e){var t=this.customField.val,a=this.customField.cn,i=[];if("string"==typeof e||"number"==typeof e){for(var n in this.list)if(this.list[n][t]==e)return this.list[n][a]}else if("object"==typeof e){for(var n in this.list)for(var s=0;s<this.multi.length;s++)this.list[n][t]==this.multi[s]&&i.push(this.list[n][a]);return i}},chose:function(e){for(var t=e.target,a=0;"LI"!=t.tagName&&a<10;)t=t.parentNode,a++;if("multi"==this.type){if("LABEL"==e.target.tagName)return;var i=t.parentNode.getElementsByTagName("INPUT");this.multi=[];for(var a=0;a<i.length;a++)i[a].checked&&this.multi.push(i[a].parentNode.getAttribute("data-val"));this.choseSome(this.multi.join(","))}else if("single"==this.type){var n=t.getAttribute("data-val"),s={fval:n,fcn:this.searchData(n)};this.beforeChose?this.beforeChose(s)&&this.choseSome(n):this.choseSome(n),this.toggle()}},choseSome:function(e){if(!this.islistReady)return void(this.willChose=e);if(""!==e&&null!==e&&void 0!==e)if("single"==this.type){this.chosePre.fval=e,this.chosePre.fcn=this.searchData(e),this.afterChose&&this.afterChose(this.chosePre)}else"multi"==this.type?(this.chosePre.fval=e,this.multi=e.split(","),this.multiCn=this.searchData(this.multi),this.chosePre.fcn=this.searchData(this.multi).join(","),this.afterChose&&this.afterChose(this.chosePre)):"search"==this.type&&(this.chosePre.fval=e,this.chosePre.fcn=this.searchData(this.multi).join(","),this.multi=this.chosePre.val.split(","),this.multiCn=this.chosePre.cn.split(","));else this.chosePre.fval="",this.chosePre.fcn=""},check:function(){if("multi"==this.type)for(var e,t=this.$el.getElementsByClassName("dropdown-menu")[0].getElementsByTagName("LI"),a=0;a<t.length;a++){e=t[a].getAttribute("data-val");for(var i=0;i<this.multi.length;i++)e==this.multi[i]&&(t[a].querySelector("input").checked=!0)}},val:function(){return this.chosePre.fval},toggle:function(){for(var e=document.querySelectorAll(".select-group"),t=this.$el,a=0;a<e.length;a++)e[a]!=t&&(e[a].querySelector(".dropdown-menu").style.display="none");t=t.querySelector(".dropdown-menu"),"block"==t.style.display?t.style.display="none":(t.style.display="block","multi"==this.type,this.spreadEvent&&spreadEvent())}},events:{formDataReady:function(e){if(this.autoChose)switch(this.type){case"single":this.choseSome(e[this.autoChose]);break;case"multi":this.choseSome(e[this.autoChose]),this.check();break;case"search":this.chosePre.fval=e[this.autoChose],this.chosePre.fcn=e[this.autoChoseCn],this.multi=this.chosePre.val.split(","),this.multiCn=this.chosePre.cn.split(",")}},formAdd:function(){this.choseSome()},clear:function(){this.choseSome()}}}),function(){var e=!1;$("body").on("mouseenter",".select-stand",function(){e=!0}),$("body").on("mouseleave",".select-stand",function(){e=!1}),$("body").on("click",function(){!e&&$(".select-stand .dropdown-menu").css("display","none")})}(),Vue.component("select-stand",{template:'<div class="select-group"><div v-bind:class="{\'select-stand\':true,\'select-stand-readonly\': readonly}"><div class="btn-select dropdown-toggle" data-toggle="dropdown" v-on:click="toggle"><input type="text" class="select-value" data-val={{chosePre.fval}} name="{{autoChose}}" id="{{id}}" v-model="chosePre.fcn" readonly ><span class="caret"></span></div><template v-if="type!=\'pop\'"><div class="dropdown-menu scroll-stand" style="display:none"><template v-if="type==\'single\'"><ul><li data-val="" ><label v-on:click="chose($event)">...</label></li><li v-for="item in list"  data-val={{item[customField.val]}} ><label v-on:click="chose($event)">{{item[customField.cn]}}</label></li></ul></template><template v-if="type==\'multi\'"><ul class="multi-input"><li v-for="item in list" v-on:click="chose($event)" data-val={{item[customField.val]}} ><input type="checkbox" id=\'multi{{$index}}\'/><label for=\'multi{{$index}}\'>{{item[customField.cn]}}</label></li></ul></template></div></template></div></div>',props:["infoType","type","id","readonly","localdata","auth","url","autoChose","afterChose","beforeChose","spreadEvent","customField","paras","linkage","auto","linkField"],data:function(){return{list:"",chosePre:{fval:"",fcn:""},willChose:"",islistReady:!1,multi:[]}},ready:function(){var e=this;this.type||(this.type="single"),this.customField||(this.customField={val:"fcodeKey",cn:"fcodeValue_cn"}),this.localdata?this.list=this.localdata:this.infoType?(e.auth||(e.auth=!1),this.url||(this.url="/dictItem/list.json"),$.ajax({url:e.url,type:"GET",dataType:"json",data:{fcode:e.infoType,auth:e.auth},success:function(t){e.list=t,e.islistReady=!0,e.willChose&&(e.choseSome(e.willChose),e.willChose="")}})):this.url&&!this.linkField&&e.req()},methods:{clear:function(){this.list=[],this.chosePre={fval:"",fcn:""}},setData:function(e){this.list=e,this.islistReady=!0,self.willChose&&(self.choseSome(self.willChose),self.willChose="")},req:function(e,t){this.islistReady=!1;var a=this;$.ajax({url:a.url,type:"GET",dataType:"json",data:e,success:function(e){a.list=e,a.islistReady=!0,a.willChose&&(a.choseSome(a.willChose,t),a.willChose="")}})},searchData:function(e){var t=this.customField.val,a=this.customField.cn,i=[];if("string"==typeof e||"number"==typeof e){for(var n in this.list)if(this.list[n][t]==e)return this.list[n][a]}else if("object"==typeof e){for(var n in this.list)for(var s=0;s<this.multi.length;s++)this.list[n][t]==this.multi[s]&&i.push(this.list[n][a]);return i}},chose:function(e){for(var t=e.target,a=0;"LI"!=t.tagName&&a<10;)t=t.parentNode,a++;if("multi"==this.type){if("LABEL"==e.target.tagName)return;var i=t.parentNode.getElementsByTagName("INPUT");this.multi=[];for(var a=0;a<i.length;a++)i[a].checked&&this.multi.push(i[a].parentNode.getAttribute("data-val"));this.choseSome(this.multi.join(","))}else if("single"==this.type){var n=t.getAttribute("data-val"),s={fval:n,fcn:this.searchData(n)};this.beforeChose?this.beforeChose(s)&&this.choseSome(n):this.choseSome(n),this.toggle()}},choseSome:function(e,t){if(!this.islistReady&&""!==e&&null!==e&&void 0!==e)return void(this.willChose=e);if(""!==e&&null!==e&&void 0!==e)if("single"==this.type){this.chosePre.fval=e,this.chosePre.fcn=this.searchData(e),!t&&this.afterChose&&this.afterChose(this.chosePre)}else"multi"==this.type&&(this.chosePre.fval=e,this.multi=e.split(","),this.chosePre.fcn=this.searchData(this.multi).join(","),!t&&this.afterChose&&this.afterChose(this.chosePre));else if(this.chosePre.fval="",this.chosePre.fcn="","multi"==this.type)for(var a=this.$el.querySelector(".multi-input").querySelectorAll("input"),i=0;i<a.length;i++)a[i].checked=!1},val:function(){return this.chosePre.fval},toggle:function(){for(var e=document.querySelectorAll(".select-group"),t=this.$el,a=0;a<e.length;a++)e[a]!=t&&(e[a].querySelector(".dropdown-menu").style.display="none");t=t.querySelector(".dropdown-menu"),this.readonly||("block"==t.style.display?t.style.display="none":(t.style.display="block",this.spreadEvent&&spreadEvent()))}},events:{formDataReady:function(e){if(this.linkField){var t={};for(var a in this.linkField)t[a]=e[this.linkField[a]];this.req(t,!0)}this.autoChose&&this.choseSome(e[this.autoChose],!0)},formAdd:function(){this.choseSome(),this.linkField&&this.clear()},clear:function(){this.choseSome()}}}),Vue.component("table-stand",{template:'<div class="vue-table"><div class="table-par"><table class="table-stand"><thead><tr><th v-for="item in thead" width="{{item.width}}">{{item.name}}</th></tr></thead><tbody><tr v-for="item in list.results" v-on:click="req($event,\'single\')" v-on:dblclick="req($event,\'double\')"  data-fid={{mark&&item[mark]||item.fid}}><template v-for="item2 in thead"><template v-if="typeof item2.getter == \'undefined\'"><td title={{item[item2.field]}}>{{item[item2.field]}}</td></template><template v-else><td>{{item2.getter(item[item2.field])}}</td></template></template></tr></tbody></table></div><div class="loding-con" style="display:none"><p class="loding table-loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div><div class="table-control"><select name="" id="select-page" v-model="list.pageSize" v-on:change="pgChange(1)"><option v-bind:value="option.value" v-for="option in autoPage">{{option.text }}</option></select><p><a class="pageUp" v-on:click="pageUp">&lt;</a><span><b :class="{\'active\':page.active==1}" v-on:click="pgChange(2)" pagev=1>1</b><em v-show="page.order==\'head\'||page.order==\'all\'">···</em><b v-for="item in page.five" :class="{\'active\':item==page.active}" v-on:click="pgChange(2)" pagev={{item}}>{{item}}</b><em v-show="page.order==\'tail\'||page.order==\'all\'">···</em><template v-if="page.tp>1"><b :class="{\'active\':page.active==page.tp}" v-on:click="pgChange(2)" pagev={{page.tp}}>{{page.tp}}</b></template></span><a class="pageDown" v-on:click="pageDown">&gt;</a>&nbsp;&nbsp;&nbsp;<span>共&nbsp;{{page.tr}}&nbsp;条</span></p>跳转到<input type="number" id="" v-model="skipNum" max = "{{page.tp}}" min="0"><a href="javascript:;" v-on:click="pgChange(3)"><i class="icon-arrow-right"></i></a><a href="javascript:;" v-on:click="pgChange(1)"><i class="icon-refresh"></i></a></div></div>',props:["list","thead","skipNum","must","url","clickFun","dbclickFun","handLoad","mark","search"],data:function(){return{
num:0,fids:"",autoPage:"",valChose:"",domChose:{}}},ready:function(){var e=this;if(void 0!=this.list&&null!=this.list||(this.list={currentPage:1,pageSize:10,totalPage:1},document.documentElement.clientHeight>820&&(this.list.pageSize=15)),this.search||(this.search={}),this.must||(this.must={currentPage:1,pageSize:10}),this.url&&""!=this.url&&!this.handLoad){var t={};for(newPara in this.must)t[newPara]=this.must[newPara];for(newPara in this.search)t[newPara]=this.search[newPara];this.loding(1),$.ajax({url:e.url,type:"GET",cache:!1,dataType:"JSON",data:e.must,success:function(t){e.list=t,e.loding(0)},error:function(){e.loding(0)}})}setTimeout(function(){e.autoHei()},200),window.addEventListener("resize",this.autoHei,!1)},methods:{refresh:function(){this.pgChange(4)},clearSearch:function(){this.search={}},setSearch:function(e){for(var t in e)this.search[t]=e[t]},pgChange:function(e){void 0!=this.list&&null!=this.list||(this.list={currentPage:1,pageSize:15,totalPage:1}),this.num++;var t=this.num,a=this,i={};for(newPara in this.must)i[newPara]=this.must[newPara];for(newPara in this.search)i[newPara]=this.search[newPara];return i.pageSize=a.list.pageSize,i.currentPage=1==e&&a.list.currentPage||2==e&&event.target.getAttribute("pagev")||3==e&&a.skipNum||4==e&&1,0==this.list.totalPage&&(this.list.totalPage=1),i.currentPage<=0||i.currentPage>this.list.totalPage?(warnFull("超出范围！","red"),!1):(this.loding(1),void $.ajax({url:a.url,type:"GET",cache:!1,dataType:"JSON",data:i,success:function(e){t==a.num&&(a.list=e,a.loding(0),a.fids="",a.valChose="")},error:function(){a.loding(0)}}))},req:function(e,t){var a;if("TD"==e.target.tagName){this.fids=e.target.parentNode.getAttribute("data-fid"),a=e.target.parentNode.parentNode.getElementsByTagName("TR");for(var i=0;i<a.length;i++)a[i].className="";this.domChose=e.target.parentNode,e.target.parentNode.className="active"}else if("TR"==e.target.tagName){this.fids=e.target.getAttribute("data-fid"),a=e.target.parentNode.getElementsBytagName("TR");for(var i=0;i<a.length;i++)a[i].className="";this.domChose=e.target,e.target.className="active"}var n=this.searchData(this.list.results,this.fids);this.valChose=n,"single"==t?n&&this.clickFun&&this.clickFun(n):n&&this.dbclickFun&&this.dbclickFun(n)},autoHei:function(){var e=this.$el.parentNode.parentNode;if(e){var t=e.getElementsByClassName("cl-head")[0].offsetHeight,a=this.$el.offsetHeight-t;e.getElementsByClassName("table-con")[0].style.top=t+"px";var i=[],n=5;do i.push({value:n,text:n}),n+=5;while(35*n<=a);this.list&&this.list.pageSize>i[i.length-1].value&&(this.list.pageSize=i[i.length-1].value),this.autoPage=i}},setData:function(e){this.list=e},searchData:function(e,t){if(this.mark){for(var a=0;a<e.length;a++)if(t==e[a][this.mark])return e[a]}else for(var a=0;a<e.length;a++)if(t==e[a].fid)return e[a]},prev:function(){var e=this.$el.querySelector("TBODY").querySelectorAll("TR");if(!this.valChose)return e[e.length-1].className="active",this.fids=e[e.length-1].getAttribute("data-fid"),this.valChose=this.searchData(this.list.results,this.fids),this.valChose;for(var t=0;t<e.length;t++)if(e[t].className.indexOf("active")!=-1)return 0!=t&&(e[t].className="",e[t-1].className="active",this.fids=e[t-1].getAttribute("data-fid"),this.valChose=this.searchData(this.list.results,this.fids),this.valChose)},next:function(){var e=this.$el.querySelector("TBODY").querySelectorAll("TR");if(!this.valChose)return e[0].className="active",this.fids=e[0].getAttribute("data-fid"),this.valChose=this.searchData(this.list.results,this.fids),this.valChose;for(var t=0;t<e.length;t++)if(e[t].className.indexOf("active")!=-1)return t!=e.length-1&&(e[t].className="",e[t+1].className="active",this.fids=e[t+1].getAttribute("data-fid"),this.valChose=this.searchData(this.list.results,this.fids),this.valChose)},pageDown:function(){this.list.currentPage<this.list.totalPage&&(this.list.currentPage++,this.pgChange(1))},pageUp:function(){this.list.currentPage>1&&(this.list.currentPage--,this.pgChange(1))},loding:function(e){e?this.$el.querySelector(".loding-con").style.display="block":this.$el.querySelector(".loding-con").style.display="none"}},computed:{page:function(){var e={tp:this.list.totalPage,tr:this.list.totalRecord,active:this.list.currentPage,five:[],order:"",ps:this.list.pageSize};if(this.list.totalPage<=7){e.order="none";for(var t=2;t<this.list.totalPage;t++)e.five.push(t)}else if(e.active-3>1&&e.active+3<e.tp){e.order="all";for(var t=e.active-2;t<=e.active+2;t++)e.five.push(t)}else if(e.active-3>1&&e.active+3>=e.tp){e.order="head";for(var t=e.tp-5;t<e.tp;t++)e.five.push(t)}else if(e.active-3<=1&&e.active+3<e.tp){e.order="tail";for(var t=2;t<=6;t++)e.five.push(t)}return e}},events:{}}),Vue.component("upload",{template:'<div class="drop-upload" style="display:none"> <template v-if="form"> <div class="form-panel"><p class="title-switch"><span>{{formTitle||"请先选择过滤条件"}}</span></p><form><template v-for="item in form"><template v-if="item.type==\'text\'||item.type==\'number\'||item.type==\'file\'||item.type==\'password\'||item.type==\'email\'">            <div :class="[\'form-group\',item.validate&&item.validate.required&&\'required\',item.roasnm&&\'roasnm\']">                <label>{{item.name}}{{item.ps}}</label>                <input type="{{item.type}}"  id="{{item.id}}" name="{{item.field}}" class="form-control" accept="{{item.accept}}" checked="{{item.checked}}" v-model="formData[item.field]" max="{{item.max}}" min="{{item.min}}" maxlength="{{item.maxlength}}" multiple="{{item.multiple}}" v-bind:readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" v-on:click="item.operaFun">            </div>        </template>        <template v-if="item.type==\'date\'"><div :class=[\'form-group\',\'roasnm\',\'form-group-date\',item.validate&&item.validate.required&&\'required\']><label>{{item.name}}</label>                <input type="text"  id="{{item.id}}" :readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" class="form-control" name="{{item.field}}"  v-model="formData[item.field]"></div>        </template>        <template v-if="item.type==\'radio\'">            <div :class="[\'form-group\',\'form-group-long\',item.validate&&item.validate.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.radio">                    <span class="form-chose">                        <input type="radio" name="{{item.field}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]" :disabled="item2.disabled==true&&readAdd||item2.disabled==\'ever\'&&true||disabled">                        <label for="{{item2.id}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'checkbox\'">            <div :class="[\'form-group\',\'form-group-long\',item.validate&&item.validate.required&&\'required\']">                <label>{{item.name}}</label>                <template v-for="item2 in item.checkbox">                    <span class="form-chose">                        <input type="checkbox" name="{{item.field}}" id="{{item2.id}}" value="{{item2.value}}" v-model="formData[item.field]"  :disabled="item2.disabled==true&&readAdd||item2.disabled==\'ever\'&&true||disabled">                        <label for="{{item2.id}}">{{item2.name}}</label>                    </span>                </template>            </div>        </template>        <template v-if="item.type==\'select\'"><div :class="[\'form-group\',item.validate&&item.validate.required&&\'required\']"><label>{{item.name}}</label><select-stand :id="item.id" :name="item.field" :info-type="item.select.infoTypes" :type="item.select.type" :readonly="item.readonly==true&&readAdd||item.readonly==\'ever\'&&true||readonly" :auto-chose="item.field" :auto-chose-cn="item.select.fieldCn" :localdata="item.select.localdata" :url="item.select.url" :after-chose="item.select.afterChose" :before-chose="item.select.beforeChose" :custom-field="item.select.customField" :spread-event="item.select.spreadEvent" :paras="item.select.paras" :link-field="item.select.linkField"></select-stand></div>        </template></template></form>    </div></template>           <div >            <label for="choseFile" class="chose-file-block">将文件拖拽到此处，或者点此选择文件</label><input type="file" class="chose-file-input" v-on:change="readFile($event)" :multiple="type==\'multi\'" :accept="fileType.join(\',\')" id="choseFile"><a href="javascript:void(0);" v-on:click="uploadFile" class="btn btn-stand btn-upload">上传</a><a href="javascript:;" class="item-btn item-btn2 upload-close"><i class="icon-remove" v-on:click="close"></i></a><template v-if="progressBar"><p class="file-upload"><i class="icon-paper-clip"></i><span class="file-name">{{filesName}}</span><span class="percentage"><b>{{size}}{{unit}}</b> / <b>{{progress}}</b></span><em class="progress" :style="{ width: progress}"></em></p><template/>        </div>    </div>',props:["type","url","fileType","successFun","form"],data:function(){return{files:[],filesName:[],formData:{},selectGroup:[],progress:"0%",status:!1,unit:"",size:"",progressBar:!1}},ready:function(){var e=this;if(this.valiSet={debug:!0,onsubmit:!1,onkeyup:!1,errorElement:"p",errorClass:"form-wrong",rules:{}},this.form){for(var t=this.form,a=0;a<this.form.length;a++)Vue.set(this.formData,this.form[a].field,""),"select"==t[a].type?this.selectGroup.push(a):"date"==t[a].type&&(t[a].id||console.log("date组件需要配置id"),$("#"+t[a].id).datetimepicker(t[a].date)),t[a].validate&&(this.valiSet.rules[t[a].field]=t[a].validate);this.validateFun=$(this.$el.querySelector("form")).validate(this.valiSet)}this.fileType||(this.fileType=["application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"]);var i=this.$el.querySelector(".chose-file-block");i.addEventListener("dragover",function(e){e.preventDefault()},!1),i.addEventListener("dragenter",function(e){i.className="chose-file-block hover"},!1),i.addEventListener("dragleave",function(e){i.className="chose-file-block"},!1),i.addEventListener("drop",function(t){t.preventDefault(),i.className="chose-file-block";var a=t.dataTransfer.files;if((!e.type||"single"==e.type)&&a.length>1)return void warnFull("每次只能接受一个文件！");for(var n=0;n<a.length;n++){for(var s=0;s<e.fileType.length&&a[n].type!=e.fileType[s];s++)if(s==e.fileType.length-1)return void warnFull('文件 "'+a[n].name+'" 格式有误',"red");n==a.length-1&&(e.files=t.dataTransfer.files,e.$el.querySelector("#choseFile").value="",i.innerHTML=1==a.length&&a[0].name||a.length+"个文件")}},!1)},methods:{open:function(){this.$el.style.display="block"},close:function(){this.$el.style.display="none",this.reset()},reset:function(){this.files=[],this.filesName="",this.$el.querySelector(".chose-file-block").innerHTML="将文件拖拽到此处，或者点此选择文件",this.$el.querySelector("#choseFile").value="",this.status=!1},readFile:function(e){this.files=e.target.files,this.$el.querySelector(".chose-file-block").innerHTML=1==e.target.files.length&&e.target.files[0].name||e.target.files.length+"个文件"},uploadFile:function(e){if(this.form&&!this.validateFun.form())return!1;for(var t=this,a=0;a<t.selectGroup.length;a++)this.formData[this.form[this.selectGroup[a]].field]=this.$children[a].val();if(!this.files.length)return void warnFull("请先选择文件");var t=this;if(t.type&&"single"!=t.type)"multi"==t.type;else{if(this.status)return;for(var i=this.files[0].name,a=0;a<this.fileType.length&&this.files[0].type!=this.fileType[a];a++);if(a==this.fileType.length)return!1;var n=new FormData;n.append("file",this.files[0]);for(var a in this.formData)n.append(a,this.formData[a]);var s=this.files[0].size,r=s/1024,o="KB";r>1e3&&(r=s/1024,o="MB"),r=r.toFixed(2),t.size=r,t.unit=o;var l=new XMLHttpRequest;l.open("POST",t.url,!0),l.upload.addEventListener("progress",function(e){var a=e.loaded/s*100;a>=100&&(a=100),t.progress=a+"%"},!1),l.onreadystatechange=function(e){2==l.readyState?(t.filesName=i,t.progressBar=!0,this.status=!0):4==l.readyState&&(this.status=!1,200==l.status?(t.reset(),t.progressBar=!1,warnTop("上传成功！后台处理数据中"),t.successFun&&t.successFun(l)):l.responseText&&(warnFull(JSON.parse(l.responseText).message,"red"),t.progressBar=!1,t.progress=0))},l.send(n)}}}}),Vue.component("ztree-panel",{template:'<div class="content-right content-right-organ"><div class="class-cr clearfix"><a class="item-btn hover"><i class="icon-pencil"></i><span class="operName1">{{title}}</span></a><p class="item-list2"><a href="javascript:;" class="item-btn item-btn1" v-on:click="saveMess()"><i class="icon-ok"></i></a><a href="javascript:;" class="item-btn item-btn2" v-on:click="close()"><i class="icon-remove"></i></a></p></div><div class="content-con"><div class="title-list-fold"><p class="title-switch" href="javascript:;"><span>{{title}}</span></p><div id="{{treeId}}" class="ztree"></div></div><div class="loding-con" style="display:none"><p class="loding"><span></span><span></span><span></span><span></span><span></span><span></span></p></div></div></div>',props:["ztreeSet","title","treeId","saveFun","closeFun","linkCN","linkValue"],data:function(){return{statu:"close",messSource:!1,chosePre:{val:"",cn:""}}},ready:function(){var e=(this.ztreeSet,this);$.fn.zTree.init($("#"+e.treeId),e.ztreeSet)},methods:{open:function(){this.$el.style.right="0px",this.messSource=!0,this.$parent.$broadcast("ztree-panel","open"),this.statu="open"},close:function(){this.$parent.$broadcast("ztree-panel","close"),this.$el.style.right="-390px",this.statu="close",this.clear()},clear:function(){this.chosePre={val:"",cn:""}},check:function(e){var t,a;this.open();var i=$.fn.zTree.getZTreeObj(this.treeId);if(a=!!this.ztreeSet.check&&this.ztreeSet.check.enable,i.cancelSelectedNode(),"object"==typeof e)for(var n in e){e[n]=String(e[n]),e[n]=e[n].split(",");for(var s=0;s<e[n].length;s++)t=function(t){return t[n]==e[n][s]},node=i.getNodesByFilter(t,!0),a?node&&i.checkNode(node,!0):node&&i.selectNode(node)}else{e=String(e),e=e.split(",");for(var s=0;s<e.length;s++)t=function(t){return t.fid==e[s]},node=i.getNodesByFilter(t,!0),a?node&&i.checkNode(nodes,!0):node&&i.selectNode(node)}},saveMess:function(){this.saveFun()}},events:{"form-panel":function(e){"close"==e&&(this.$el.style.right="-390px",this.statu="close")},"ztree-panel":function(e){"open"==e&&(this.messSource?this.messSource=!1:(this.$el.style.right="-390px",this.statu="close"))}}});